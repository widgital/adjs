!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){(function(){var $sf,Page,config,endpoint,utils;$sf=require("../node_modules/safeframe/lib/js/ext/ext")(!0),utils=require("./shared/utils"),endpoint=require("./shared/endpoint"),Page=require("./shared/page"),config=require("./shared/config"),function($sf,window){var Controller,e,onUpdate,page,referrer,requests,setSessionInfo;Controller={},referrer=document.referrer,page=null,document.domain=config.domain,requests={},utils.defineProperty(Controller,"isController",{writeable:!1,value:!0,configurable:!1}),utils.defineProperty(Controller,"send",{writeable:!1,value:function(request){return requests[request.id]=request,request.set(page.attributes,{silent:!0}),endpoint.send(request)},configurable:!1}),utils.defineProperty(Controller,"combine",{writeable:!1,value:function(request,adRequest){return endpoint.combine(request,adRequest)},configurable:!1}),utils.defineProperty(window,"$ad",{writeable:!1,value:Controller,configurable:!1}),referrer=document.referrer,setSessionInfo=function(params){return page.deserialize(params)};try{utils.defineProperty(document,"referrer",{get:function(){return""}})}catch(_error){e=_error}return onUpdate=function(status,data){switch(status){case"cookie-update":return setSessionInfo(unescape(data.value))}},$sf.ext.render(!0,""),$sf.ext.register(0,0,onUpdate),page=new Page($sf.ext.meta("page","extended")),page.change(function(){return endpoint.send(page)}),endpoint.send(page,function(){var k,r,_i,_len,_results;for(_results=[],r=_i=0,_len=requests.length;_len>_i;r=++_i)k=requests[r],_results.push(r.set(page.attributes,{silent:!0}));return _results})}($sf,window)}).call(this)},{"../node_modules/safeframe/lib/js/ext/ext":12,"./shared/config":3,"./shared/endpoint":4,"./shared/page":5,"./shared/utils":6}],2:[function(require,module){(function(){var utils,uuid;uuid=require("node-uuid"),utils=require("./utils"),module.exports=function(){var Base;return Base=function(){function Base(){this.id=uuid.v4(),this.attributes||(this.attributes={}),this._events=[],this._dirty={}}return Base.prototype.set=function(attrs,options){var changed,changedAttributes,f,k,v,_i,_len,_ref,_results;if(null==options&&(options={}),"object"!=typeof attrs)throw"attrs must be an object";changed=!1,changedAttributes=[];for(k in attrs)v=attrs[k],this.attributes[k]!==v&&(changedAttributes.push(k),this._dirty[k]=v,this.attributes[k]=v);if(!options.silent&&changedAttributes.length>0){for(_ref=this._events,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)f=_ref[_i],_results.push(f.apply(this,[this,changedAttributes]));return _results}},Base.prototype.change=function(f){var _i,_len,_ref,_results;if(f&&"function"==typeof f)return this._events.push(f);if(!f){for(_ref=this._events,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)f=_ref[_i],_results.push(f.apply(this,arguments));return _results}},Base.prototype._cleanDirty=function(){return this._dirty={}},Base.prototype.changedFields=function(){var field,k,params,v,_i,_len,_ref,_ref1;params={},_ref=this._dirty;for(k in _ref)v=_ref[k],params[k]=v;for(_ref1=this.constantFields,_i=0,_len=_ref1.length;_len>_i;_i++)field=_ref1[_i],this.attributes[field]&&(params[field]=this.attributes[field]);return this._cleanDirty(),params},Base.prototype.serialize=function(){return utils.toQuery(this.attributes)},Base.prototype.deserialize=function(str){return this.set(utils.fromQuery(str),{silent:!0})},Base}()}()}).call(this)},{"./utils":6,"node-uuid":10}],3:[function(require,module){(function(){module.exports=function(){return{api:"//api.adjs.net/1",cdn_url:"//cdn.adjs.net/html/adjsframe.html",visit_expiry:30,version:"0.0.1",domain:"adjs.net",controller_url:"//cdn.adjs.net/html/controllerframe.html",ad_url:"//cdn.adjs.net/html/adframe.html"}}()}).call(this)},{}],4:[function(require,module){(function(){var config,utils;config=require("./config"),utils=require("./utils"),module.exports=function($sf){var RETRY_TIMEOUT,combine,endpoint,error,isTimeout,pendingRequests,postData,prefix,send,sendData,sendingRequests,success,timeoutValue;return prefix=config.api,pendingRequests={},sendingRequests={},RETRY_TIMEOUT=100,isTimeout=!1,timeoutValue=null,send=function(obj,cb){return pendingRequests[obj.id]=[obj,cb],postData()},combine=function(req,adReq,cb,retry){var attrs,f,requestParams,_i,_j,_len,_len1,_ref,_ref1;if(null==retry&&(retry=3),attrs={},req.attributes.req_id&&adReq.attributes.ad_id){for(_ref=adReq.constantFields,_i=0,_len=_ref.length;_len>_i;_i++)f=_ref[_i],attrs[f]=adReq.attributes[f];for(_ref1=req.constantFields,_j=0,_len1=_ref1.length;_len1>_j;_j++)f=_ref1[_j],attrs[f]=req.attributes[f];return requestParams={data:attrs,success:function(resp){return"function"==typeof cb?cb(resp):void 0},error:function(err){return"function"==typeof cb?cb(err):void 0}},prefix.indexOf(document.location.hostname)>=0?(requestParams.method="post",requestParams.url="event_ads"):(requestParams.type="jsonp",requestParams.url=prefix+"/event_ads"),utils.sendRequest(requestParams)}return retry>=0?setTimeout(function(){return function(){return combine(req,adReq,cb,retry-1)}}(this),100):void 0},success=function(obj,resp,cb){return obj.set(resp,{silent:!0}),delete sendingRequests[obj.id],"function"==typeof cb?cb(obj):void 0},error=function(){},sendData=function(params,obj,cb){var requestParams;return requestParams={data:params,success:function(resp){return success(obj,resp,cb)},error:function(err){return error(obj,err,cb)}},prefix.indexOf(document.location.hostname)>=0?(requestParams.method="post",requestParams.url=obj.path):(requestParams.type="jsonp",requestParams.url=prefix+obj.path),utils.sendRequest(requestParams)},postData=function(){var cb,id,k,obj,params,v,_ref,_ref1;for(id in pendingRequests)if(_ref=pendingRequests[id],obj=_ref[0],cb=_ref[1],!sendingRequests[obj.id]){delete pendingRequests[id],params={},_ref1=obj.changedFields();for(k in _ref1)v=_ref1[k],params[k]=v;sendingRequests[obj.id]=obj,sendData(params,obj,cb)}return $sf.lib.lang.keys(pendingRequests).length>0&&!isTimeout?(isTimeout=!0,timeoutValue=setTimeout(function(){return isTimeout=!1,postData()},RETRY_TIMEOUT)):void 0},endpoint={send:send,combine:combine}}($sf)}).call(this)},{"./config":3,"./utils":6}],5:[function(require,module){(function(){var Base,config,cookies,moment,utils,uuid,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};cookies=require("cookies-js"),uuid=require("node-uuid"),Base=require("./base"),utils=require("./utils"),config=require("./config"),moment=require("moment"),module.exports=function($sf,window){var COOKIE_KEY,Page;return COOKIE_KEY="_ajsk",Page=function(_super){function Page(serializedParams){Page.__super__.constructor.call(this),serializedParams?this.deserialize(serializedParams):(this.loadCookieData(),this.initDefaultAttributes())}return __extends(Page,_super),Page.prototype.storeCookie=function(){var _ref;if(null!=(null!=$sf&&null!=(_ref=$sf.ext)?_ref.cookie:void 0)){if(this.attributes.site_user_id&&$sf.ext.cookie(""+COOKIE_KEY+"_suid",{value:this.attributes.site_user_id,expires:moment().add("years",1).toDate()}),this.attributes.visit_id)return $sf.ext.cookie(""+COOKIE_KEY+"_vid",{value:this.attributes.visit_id,expires:moment().add("seconds",60*config.visit_expiry).toDate()})}else if(this.attributes.site_user_id&&cookies.set(""+COOKIE_KEY+"_suid",this.attributes.site_user_id,{expires:moment().add("years",1).toDate()}),this.attributes.visit_id)return cookies.set(""+COOKIE_KEY+"_vid",this.attributes.visit_id,{expires:moment().add("seconds",60*config.visit_expiry).toDate()})},Page.prototype.loadCookieData=function(){var _ref;return null!=(null!=$sf&&null!=(_ref=$sf.ext)?_ref.cookie:void 0)?this.set({site_user_id:$sf.ext.cookie(""+COOKIE_KEY+"_suid"),visit_id:$sf.ext.cookie(""+COOKIE_KEY+"_vid")},{silent:!0}):this.set({site_user_id:cookies.get(""+COOKIE_KEY+"_suid"),visit_id:cookies.get(""+COOKIE_KEY+"_vid")},{silent:!0})},Page.prototype.set=function(attrs,options){return null==options&&(options={}),Page.__super__.set.call(this,attrs,options),this.storeCookie()},Page.prototype.initDefaultAttributes=function(){return window===window.top?this.set({full_url:window.document.location.href,referrer:window.document.referrer},{silent:!0}):window.parent===window.top?this.set({full_url:window.document.referrer}):void 0},Page.prototype.verifyUrl=function(){return window.parent===window.top&&window.document.referrer?!0:void 0},Page.prototype.path="/page",Page.prototype.constantFields=["site_user_id","page_id","visit_id","full_url"],Page}(Base),Page.VISITOR_EXPIRY=config.visit_expiry,"undefined"!=typeof _TEST&&null!==_TEST&&_TEST&&(Page._COOKIE_KEY=COOKIE_KEY,Page.clearCookie=function(){return cookies.set(COOKIE_KEY+"_suid",void 0),cookies.set(COOKIE_KEY+"_vid",void 0)}),Page}($sf,window)}).call(this)},{"./base":2,"./config":3,"./utils":6,"cookies-js":7,moment:9,"node-uuid":10}],6:[function(require,module){(function(){var reqwest;window.JSON||(window.JSON=require("json")),reqwest=require("reqwest"),window.JSON||(window.JSON=require("json")),module.exports=function($sf){var capitalizeString,countFrames,defineProperty,findController,fromQuery,getFramePosition,keys,nativeReduce,now,reduce,reduceError,reqId,sendRequest,toNumber,toQuery;return reqId=0,sendRequest=function(options){return reqId++,"jsonp"===options.type&&(options.jsonpCallbackName="adjs_"+now()+"_"+reqId),reqwest(options)},fromQuery=function(query,delim){var item,key,params,value,_i,_len,_ref,_ref1;for(null==query&&(query=""),null==delim&&(delim="&"),params={},_ref=query.split(delim),_i=0,_len=_ref.length;_len>_i;_i++)item=_ref[_i],_ref1=item.split("="),key=_ref1[0],value=_ref1[1],params[key]=decodeURIComponent(value);return params},toQuery=function(attributes){return reqwest.toQueryString(attributes)},toNumber=function(val){return null!=$sf?$sf.lib.lang.cnum(val,0):void 0},now=function(){return(new Date).getTime()},defineProperty=function(obj,prop,descriptor){var e;try{if("defineProperty"in Object)return Object.defineProperty(obj,prop,descriptor);if("__defineGetter__"in obj){if(descriptor.value){if(obj.__defineGetter__(prop,function(){return descriptor.value}),descriptor.writable!==!1)return obj.__defineSetter__(prop,function(val){return val[prop]=val})}else if(null!=descriptor.get&&obj.__defineGetter__(prop,descriptor.get),null!=descriptor.set)return obj.__defineSetter__(prop,descriptor.set)}else if(descriptor.value)return obj[prop]=descriptor.value}catch(_error){e=_error}},countFrames=function(win){var count,frame,_i,_len,_ref;for(count=win.frames.length,_ref=win.frames,_i=0,_len=_ref.length;_len>_i;_i++)frame=_ref[_i],frame!==win&&(count+=countFrames(frame));return count},getFramePosition=function(win){var count;return count=0,win.parent!==win.top&&(count=1+getFramePosition(win.parent)),count},nativeReduce=Array.prototype.reduce,reduceError="Reduce of empty array with no initial value",reduce=function(obj,iterator,memo,context){var index,initial,value,_fn,_i,_len;if(initial=arguments.length>2,null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);for(_fn=function(value,index,obj){initial?memo=iterator.call(context,memo,value,index,obj):(memo=value,initial=!0)},index=_i=0,_len=obj.length;_len>_i;index=++_i)value=obj[index],_fn(value,index,obj);if(!initial)throw new TypeError(reduceError);return memo},keys=function(obj){return null!=$sf?$sf.lib.lang.keys(obj):void 0},findController=function(cb,retry){var controller,frame,_i,_len,_ref,_ref1;for(null==retry&&(retry=3),controller=null,_ref=window.top.frames,_i=0,_len=_ref.length;_len>_i;_i++){frame=_ref[_i];try{if(null!=(_ref1=frame.$ad)?_ref1.isController:void 0){controller=frame.$ad;break}}catch(_error){}}return controller?cb(controller):0>retry?void 0:setTimeout(function(){return findController(cb,retry-1)},100)},capitalizeString=function(string){return string.charAt(0).toUpperCase()+string.slice(1)},{sendRequest:sendRequest,toQuery:toQuery,fromQuery:fromQuery,toNumber:toNumber,now:now,defineProperty:defineProperty,countFrames:countFrames,capitalizeString:capitalizeString,keys:keys,getFramePosition:getFramePosition,reduce:reduce,findController:findController}}($sf)}).call(this)},{json:8,reqwest:11}],7:[function(require,module,exports){!function(undefined){"use strict";var Cookies=function(key,value,options){return 1===arguments.length?Cookies.get(key):Cookies.set(key,value,options)};Cookies._document=document,Cookies._navigator=navigator,Cookies.defaults={path:"/"},Cookies.get=function(key){return Cookies._cachedDocumentCookie!==Cookies._document.cookie&&Cookies._renewCache(),Cookies._cache[key]},Cookies.set=function(key,value,options){return options=Cookies._getExtendedOptions(options),options.expires=Cookies._getExpiresDate(value===undefined?-1:options.expires),Cookies._document.cookie=Cookies._generateCookieString(key,value,options),Cookies},Cookies.expire=function(key,options){return Cookies.set(key,undefined,options)},Cookies._getExtendedOptions=function(options){return{path:options&&options.path||Cookies.defaults.path,domain:options&&options.domain||Cookies.defaults.domain,expires:options&&options.expires||Cookies.defaults.expires,secure:options&&options.secure!==undefined?options.secure:Cookies.defaults.secure}},Cookies._isValidDate=function(date){return"[object Date]"===Object.prototype.toString.call(date)&&!isNaN(date.getTime())},Cookies._getExpiresDate=function(expires,now){switch(now=now||new Date,typeof expires){case"number":expires=new Date(now.getTime()+1e3*expires);break;case"string":expires=new Date(expires)}if(expires&&!Cookies._isValidDate(expires))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return expires},Cookies._generateCookieString=function(key,value,options){key=encodeURIComponent(key),value=(value+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),options=options||{};var cookieString=key+"="+value;return cookieString+=options.path?";path="+options.path:"",cookieString+=options.domain?";domain="+options.domain:"",cookieString+=options.expires?";expires="+options.expires.toGMTString():"",cookieString+=options.secure?";secure":""},Cookies._getCookieObjectFromString=function(documentCookie){for(var cookieObject={},cookiesArray=documentCookie?documentCookie.split("; "):[],i=0;i<cookiesArray.length;i++){var cookieKvp=Cookies._getKeyValuePairFromCookieString(cookiesArray[i]);cookieObject[cookieKvp.key]===undefined&&(cookieObject[cookieKvp.key]=cookieKvp.value)}return cookieObject},Cookies._getKeyValuePairFromCookieString=function(cookieString){var separatorIndex=cookieString.indexOf("=");return separatorIndex=0>separatorIndex?cookieString.length:separatorIndex,{key:decodeURIComponent(cookieString.substr(0,separatorIndex)),value:decodeURIComponent(cookieString.substr(separatorIndex+1))}},Cookies._renewCache=function(){Cookies._cache=Cookies._getCookieObjectFromString(Cookies._document.cookie),Cookies._cachedDocumentCookie=Cookies._document.cookie},Cookies._areEnabled=function(){return Cookies._navigator.cookieEnabled||"1"===Cookies.set("cookies.js",1).get("cookies.js")},Cookies.enabled=Cookies._areEnabled(),"function"==typeof define&&define.amd?define(function(){return Cookies}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=Cookies),exports.Cookies=Cookies):window.Cookies=Cookies}()},{}],8:[function(require,module,exports){var JSON;JSON||(JSON={}),function(){"use strict";function f(n){return 10>n?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;length>i;i+=1)"string"==typeof rep[i]&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var global=Function("return this")(),JSON=global.JSON;JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),global.JSON=JSON,module.exports=JSON}()},{}],9:[function(require,module){(function(global){(function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function deprecate(msg,fn){function printMsg(){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}var firstTime=!0;return extend(function(){return firstTime&&(printMsg(),firstTime=!1),fn.apply(this,arguments)},fn)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function cloneMoment(m){var i,result={};for(i in m)m.hasOwnProperty(i)&&momentProperties.hasOwnProperty(i)&&(result[i]=m[i]);return result}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length)),m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function loadLang(key,values){return values.abbr=key,languages[key]||(languages[key]=new Language),languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var j,lang,next,split,i=0,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.lang()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.lang().invalidDate()}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input,10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=getLangDefinition(config._l).weekdaysParse(input),null!=a?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,lang;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(lang=getLangDefinition(config._l),dow=lang._week.dow,doy=lang._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;
var i,parsedInput,tokens,token,skipped,lang=getLangDefinition(config._l),string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=extend({},config),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){parseISO(config),config._isValid===!1&&(delete config._isValid,moment.createFromInputFallback(config))}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);input===undefined?config._d=new Date:matched?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):isDate(input)?config._d=new Date(+input):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,language){if("string"==typeof input)if(isNaN(input)){if(input=language.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<=relativeTimeThresholds.dd&&["dd",days]||days<=relativeTimeThresholds.dm&&["M"]||days<relativeTimeThresholds.dy&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;return null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=getLangDefinition().preparse(input)),moment.isMoment(input)?(config=cloneMoment(input),config._d=new Date(+input._d)):format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),new Moment(config))}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.lang().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.7.0",globalScope="undefined"!=typeof global?global:this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},momentProperties={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,dd:25,dm:45,dy:345},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=lang,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=lang,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))&&(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}),ret=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_lang")&&(ret._lang=input._lang),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]===undefined?!1:(relativeTimeThresholds[threshold]=limit,!0)},moment.lang=function(key,values){var r;return key?(values?loadLang(normalizeLanguage(key),values):null===values?(unloadLang(key),key="en"):languages[key]||getLangDefinition(key),r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr):moment.fn._lang._abbr},moment.langData=function(key){return key&&key._lang&&key._lang._abbr&&(key=key._lang._abbr),getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;return dur="string"==typeof input&&"string"==typeof val?moment.duration(isNaN(+val)?+input:+val,isNaN(+val)?val:input):"string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;return dur="string"==typeof input&&"string"==typeof val?moment.duration(isNaN(+val)?+input:+val,isNaN(+val)?val:input):"string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.lang()),this.add({d:input-day})):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoWeek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:function(input,keepTime){var offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),this._offset=input,this._isUTC=!0,offset!==input&&(!keepTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this._lang._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},lang:function(key){return key===undefined?this._lang:(this._lang=getLangDefinition(key),this)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,years,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());return withSuffix&&(output=this.lang().pastFuture(difference,output)),this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"}});for(i in unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&(makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase()));makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(require,module){(function(Buffer){(function(){function parse(s,buf,offset){var i=buf&&offset||0,ii=0;for(buf=buf||[],s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){16>ii&&(buf[i+ii++]=_hexToByte[oct])});16>ii;)buf[i+ii++]=0;return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[];options=options||{};var clockseq=null!=options.clockseq?options.clockseq:_clockseq,msecs=null!=options.msecs?options.msecs:(new Date).getTime(),nsecs=null!=options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(0>dt&&null==options.clockseq&&(clockseq=clockseq+1&16383),(0>dt||msecs>_lastMSecs)&&null==options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;var tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;6>n;n++)b[i+n]=node[n];return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new BufferClass(16):null,options=null),options=options||{};var rnds=options.random||(options.rng||_rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;16>ii;ii++)buf[i+ii]=rnds[ii];return buf||unparse(rnds)}var _rng,_global=this;if("function"==typeof require)try{var _rb=require("crypto").randomBytes;_rng=_rb&&function(){return _rb(16)}}catch(e){}if(!_rng&&_global.crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);_rng=function(){return crypto.getRandomValues(_rnds8),_rnds8}}if(!_rng){var _rnds=new Array(16);_rng=function(){for(var r,i=0;16>i;i++)0===(3&i)&&(r=4294967296*Math.random()),_rnds[i]=r>>>((3&i)<<3)&255;return _rnds}}for(var BufferClass="function"==typeof Buffer?Buffer:Array,_byteToHex=[],_hexToByte={},i=0;256>i;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=_rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;if(uuid.v1=v1,uuid.v4=v4,uuid.parse=parse,uuid.unparse=unparse,uuid.BufferClass=BufferClass,"function"==typeof define&&define.amd)define(function(){return uuid});else if("undefined"!=typeof module&&module.exports)module.exports=uuid;else{var _previousRoot=_global.uuid;uuid.noConflict=function(){return _global.uuid=_previousRoot,uuid
},_global.uuid=uuid}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:18,crypto:22}],11:[function(require,module,exports){!function(name,context,definition){"undefined"!=typeof module&&module.exports?module.exports=definition():"function"==typeof define&&define.amd?define(definition):context[name]=definition()}("reqwest",this,function(){function handleReadyState(r,success,error){return function(){return r._aborted?error(r.request):void(r.request&&4==r.request[readyState]&&(r.request.onreadystatechange=noop,twoHundo.test(r.request.status)?success(r.request):error(r.request)))}}function setHeaders(http,o){var h,headers=o.headers||{};headers.Accept=headers.Accept||defaultHeaders.accept[o.type]||defaultHeaders.accept["*"],o.crossOrigin||headers[requestedWith]||(headers[requestedWith]=defaultHeaders.requestedWith),headers[contentType]||(headers[contentType]=o.contentType||defaultHeaders.contentType);for(h in headers)headers.hasOwnProperty(h)&&"setRequestHeader"in http&&http.setRequestHeader(h,headers[h])}function setCredentials(http,o){"undefined"!=typeof o.withCredentials&&"undefined"!=typeof http.withCredentials&&(http.withCredentials=!!o.withCredentials)}function generalCallback(data){lastValue=data}function urlappend(url,s){return url+(/\?/.test(url)?"&":"?")+s}function handleJsonp(o,fn,err,url){var reqId=uniqid++,cbkey=o.jsonpCallback||"callback",cbval=o.jsonpCallbackName||reqwest.getcallbackPrefix(reqId),cbreg=new RegExp("((^|\\?|&)"+cbkey+")=([^&]+)"),match=url.match(cbreg),script=doc.createElement("script"),loaded=0,isIE10=-1!==navigator.userAgent.indexOf("MSIE 10.0");return match?"?"===match[3]?url=url.replace(cbreg,"$1="+cbval):cbval=match[3]:url=urlappend(url,cbkey+"="+cbval),win[cbval]=generalCallback,script.type="text/javascript",script.src=url,script.async=!0,"undefined"==typeof script.onreadystatechange||isIE10||(script.htmlFor=script.id="_reqwest_"+reqId),script.onload=script.onreadystatechange=function(){return script[readyState]&&"complete"!==script[readyState]&&"loaded"!==script[readyState]||loaded?!1:(script.onload=script.onreadystatechange=null,script.onclick&&script.onclick(),fn(lastValue),lastValue=void 0,head.removeChild(script),void(loaded=1))},head.appendChild(script),{abort:function(){script.onload=script.onreadystatechange=null,err({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(script),loaded=1}}}function getRequest(fn,err){var http,o=this.o,method=(o.method||"GET").toUpperCase(),url="string"==typeof o?o:o.url,data=o.processData!==!1&&o.data&&"string"!=typeof o.data?reqwest.toQueryString(o.data):o.data||null,sendWait=!1;return"jsonp"!=o.type&&"GET"!=method||!data||(url=urlappend(url,data),data=null),"jsonp"==o.type?handleJsonp(o,fn,err,url):(http=o.xhr&&o.xhr(o)||xhr(o),http.open(method,url,o.async===!1?!1:!0),setHeaders(http,o),setCredentials(http,o),win[xDomainRequest]&&http instanceof win[xDomainRequest]?(http.onload=fn,http.onerror=err,http.onprogress=function(){},sendWait=!0):http.onreadystatechange=handleReadyState(this,fn,err),o.before&&o.before(http),sendWait?setTimeout(function(){http.send(data)},200):http.send(data),http)}function Reqwest(o,fn){this.o=o,this.fn=fn,init.apply(this,arguments)}function setType(header){return header.match("json")?"json":header.match("javascript")?"js":header.match("text")?"html":header.match("xml")?"xml":void 0}function init(o,fn){function complete(resp){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(resp)}function success(resp){var type=o.type||setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(resp,msg,t){for(resp=self.request,self._responseArgs.resp=resp,self._responseArgs.msg=msg,self._responseArgs.t=t,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(resp,msg,t);complete(resp)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(o,fn){return new Reqwest(o,fn)}function normalize(s){return s?s.replace(/\r?\n/g,"\r\n"):""}function serial(el,cb){var ch,ra,val,i,n=el.name,t=el.tagName.toLowerCase(),optCb=function(o){o&&!o.disabled&&cb(n,normalize(o.attributes.value&&o.attributes.value.specified?o.value:o.text))};if(!el.disabled&&n)switch(t){case"input":/reset|button|image|file/i.test(el.type)||(ch=/checkbox/i.test(el.type),ra=/radio/i.test(el.type),val=el.value,(!(ch||ra)||el.checked)&&cb(n,normalize(ch&&""===val?"on":val)));break;case"textarea":cb(n,normalize(el.value));break;case"select":if("select-one"===el.type.toLowerCase())optCb(el.selectedIndex>=0?el.options[el.selectedIndex]:null);else for(i=0;el.length&&i<el.length;i++)el.options[i].selected&&optCb(el.options[i])}}function eachFormElement(){var e,i,cb=this,serializeSubtags=function(e,tags){var i,j,fa;for(i=0;i<tags.length;i++)for(fa=e[byTag](tags[i]),j=0;j<fa.length;j++)serial(fa[j],cb)};for(i=0;i<arguments.length;i++)e=arguments[i],/input|select|textarea/i.test(e.tagName)&&serial(e,cb),serializeSubtags(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var hash={};return eachFormElement.apply(function(name,value){name in hash?(hash[name]&&!isArray(hash[name])&&(hash[name]=[hash[name]]),hash[name].push(value)):hash[name]=value},arguments),hash}function buildParams(prefix,obj,traditional,add){var name,i,v,rbracket=/\[\]$/;if(isArray(obj))for(i=0;obj&&i<obj.length;i++)v=obj[i],traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add);else if(obj&&"[object Object]"===obj.toString())for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add);else add(prefix,obj)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(o){if(o.crossOrigin===!0){var xhr=win[xmlHttpRequest]?new XMLHttpRequest:null;if(xhr&&"withCredentials"in xhr)return xhr;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(data){return data}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(success,fail){return success=success||function(){},fail=fail||function(){},this._fulfilled?this._responseArgs.resp=success(this._responseArgs.resp):this._erred?fail(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(success),this._errorHandlers.push(fail)),this},always:function(fn){return this._fulfilled||this._erred?fn(this._responseArgs.resp):this._completeHandlers.push(fn),this},fail:function(fn){return this._erred?fn(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(fn),this}},reqwest.serializeArray=function(){var arr=[];return eachFormElement.apply(function(name,value){arr.push({name:name,value:value})},arguments),arr},reqwest.serialize=function(){if(0===arguments.length)return"";var opt,fn,args=Array.prototype.slice.call(arguments,0);return opt=args.pop(),opt&&opt.nodeType&&args.push(opt)&&(opt=null),opt&&(opt=opt.type),fn="map"==opt?serializeHash:"array"==opt?reqwest.serializeArray:serializeQueryString,fn.apply(null,args)},reqwest.toQueryString=function(o,trad){var prefix,i,traditional=trad||!1,s=[],enc=encodeURIComponent,add=function(key,value){value="function"==typeof value?value():null==value?"":value,s[s.length]=enc(key)+"="+enc(value)};if(isArray(o))for(i=0;o&&i<o.length;i++)add(o[i].name,o[i].value);else for(prefix in o)o.hasOwnProperty(prefix)&&buildParams(prefix,o[prefix],traditional,add);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(id){return callbackPrefix+"_"+id.toString()},reqwest.compat=function(o,fn){return o&&(o.type&&(o.method=o.type)&&delete o.type,o.dataType&&(o.type=o.dataType),o.jsonpCallback&&(o.jsonpCallbackName=o.jsonpCallback)&&delete o.jsonpCallback,o.jsonp&&(o.jsonpCallback=o.jsonp)),new Reqwest(o,fn)},reqwest.ajaxSetup=function(options){options=options||{};for(var k in options)globalSetupOptions[k]=options[k]},reqwest})},{}],12:[function(require,module){(function(){var sf;sf=require("../shared/base"),module.exports=function(isExternal){return function(window,sf){var COLLAPSE_COMMAND,DG,DOM_WATCH_INTERVAL,DP,DS,ERROR_COMMAND,EXPAND_COMMAND,GUID_VALID_TIME,IE_ATTACH,IE_DETACH,LOAD,MAX_MSG_WAIT_TIME,MSG,NOTIFY_CLICKED,NOTIFY_COLLAPSE,NOTIFY_COLLAPSED,NOTIFY_EXPAND,NOTIFY_FAILURE,NOTIFY_FOCUS_CHANGE,NOTIFY_GEOM_UPDATE,NOTIFY_LOADED,NOTIFY_READ_COOKIE,NOTIFY_RELOAD,NOTIFY_REQUESTED,NOTIFY_UNVIEWED,NOTIFY_VIEWED,NOTIFY_WRITE_COOKIE,OBJ,ONLOAD,ONMSG,ONUNLOAD,ON_STR,OUR_TAG_CLS_NAME,ParamHash,STATUS_COLLAPSED,STATUS_COLLAPSING,STATUS_EXPANDED,STATUS_EXPANDING,TOLOWERCASE,UNLOAD,W3C_ATTACH,W3C_DETACH,adShown,can_use_html5,click,cmdRetries,collapse,cookie,d,deleteMeta,dom,env,err_msg_timer_id,err_msgs,expand,force_collapse,frame_id,geom,geom_info,guid,hasLoaded,host_cname,ie_old_attach,ie_old_detach,iframes,inViewPercentage,init_height,init_width,inline_handler_timer_id,isAdShown,isIE,is_expanded,is_registered,lang,lib,loaded,message,messageQueue,meta,msgclient_fb,originalWrite,orphan_timer_id,par,pending_msg,pos_id,pos_meta,register,reload,render,render_conf,render_params,sandbox_cb,showAd,status,supports,unload_handlers,unviewed,viewed,w3c_old_attach,w3c_old_detach,win,winHasFocus,win_has_focus,_append,_attach,_attach_override,_attr,_call_client_fb,_call_raw_evt_func,_check_orphaned,_cnum,_collapse,_construction,_create_stylesheet,_cstr,_destruction,_detach,_detach_override,_detect_bad_iframe,_elt,_fire_sandbox_callback,_handle_err,_handle_load,_handle_msg,_handle_unload,_nuke_doc,_purge,_reattach_messaging,_receive_msg,_render,_report_errs,_requested,_reset_inline_handlers,_send_cmd,_send_msg,_set_alignment,_set_hyperlink_targets,_setup_win_evt_props,_shiftMessageQueue,_tags,_ue,_wrapiFrame;return win=window,LOAD="load",ON_STR="on",MSG="message",UNLOAD="un"+LOAD,ONUNLOAD=ON_STR+UNLOAD,ONMSG=ON_STR+MSG,ONLOAD=ON_STR+LOAD,DG="__defineGetter__",DS="__defineSetter__",DP="__defineProperty__",W3C_ATTACH="addEventListener",W3C_DETACH="removeEventListener",IE_ATTACH="attachEvent",IE_DETACH="detachEvent",TOLOWERCASE="toLowerCase",EXPAND_COMMAND="exp-ovr",COLLAPSE_COMMAND="collapse",ERROR_COMMAND="error",NOTIFY_GEOM_UPDATE="geom-update",NOTIFY_EXPAND="expand",NOTIFY_FOCUS_CHANGE="focus-change",NOTIFY_COLLAPSE=COLLAPSE_COMMAND,NOTIFY_COLLAPSED=NOTIFY_COLLAPSE+"d",NOTIFY_FAILURE="failed",NOTIFY_READ_COOKIE="read-cookie",NOTIFY_WRITE_COOKIE="write-cookie",NOTIFY_CLICKED="clicked",NOTIFY_VIEWED="viewed",NOTIFY_UNVIEWED="unviewed",NOTIFY_LOADED="loaded",NOTIFY_REQUESTED="requested",NOTIFY_RELOAD="reload",STATUS_COLLAPSED=NOTIFY_COLLAPSED,STATUS_EXPANDED=NOTIFY_EXPAND+"ed",STATUS_COLLAPSING="collapsing",STATUS_EXPANDING=NOTIFY_EXPAND+"ing",OUR_TAG_CLS_NAME="sf",MAX_MSG_WAIT_TIME=4e3,DOM_WATCH_INTERVAL=3e3,GUID_VALID_TIME=3e4,OBJ="object",d=win&&win.document,par=win&&win.parent,lib=sf.lib,env=sf.env,lang=lib.lang,ParamHash=lang.ParamHash,dom=lib.dom,iframes=dom.iframes,msgclient_fb=dom.msgclient_fb,isIE=env.isIE,_ue=win.unescape,_cstr=lang.cstr,_cnum=lang.cnum,_append=dom.append,_tags=dom.tags,_elt=dom&&dom.elt,_purge=dom&&dom.purge,_attach=dom&&dom.attach,_detach=dom&&dom.detach,_attr=dom&&dom.attr,hasLoaded=!1,is_expanded=!1,force_collapse=!1,is_registered=!1,init_width=0,init_height=0,sandbox_cb=null,pending_msg=null,messageQueue=[],geom_info=null,pos_meta=null,win_has_focus=!1,guid="",host_cname="",can_use_html5=!1,frame_id="",pos_id="",err_msg_timer_id=0,orphan_timer_id=0,inline_handler_timer_id=0,err_msgs=[],unload_handlers=[],render_params=void 0,render_conf=void 0,ie_old_attach=void 0,w3c_old_attach=void 0,ie_old_detach=void 0,w3c_old_detach=void 0,isAdShown=!1,_create_stylesheet=function(cssText,id){var e,oHead,oSS,oTxt;oHead=void 0,oSS=void 0,oTxt=void 0,e=void 0;try{oHead=_tags("head")[0],-1===cssText.search(/\{[^\}]*}/g)?(oSS=dom.make("link"),oSS.type="text/css",oSS.rel="stylesheet",oSS.href=cssText):(oSS=dom.make("style"),oSS.type="text/css",isIE?oSS.styleSheet.cssText=cssText:(oTxt=d.createTextNode(cssText),_append(oSS,oTxt))),id&&(oSS.id=id),_append(oHead,oSS)}catch(_error){}},_destruction=function(evt){var e,grand_par,handler,success,w;handler=void 0,w=window,success=1,e=void 0;try{evt=evt||w.event||{}}catch(_error){e=_error,evt={type:UNLOAD}}for(;handler=unload_handlers.shift();)try{handler(evt)}catch(_error){}try{ie_old_attach&&(w[IE_ATTACH]=ie_old_attach,w[IE_DETACH]=ie_old_detach)}catch(_error){}try{w3c_old_attach&&(w[W3C_ATTACH]=w3c_old_attach,w[W3C_DETACH]=w3c_old_detach)}catch(_error){}hasLoaded||_detach(w,LOAD,_handle_load),_detach(w,UNLOAD,_handle_unload);try{w.onerror=null}catch(_error){}try{err_msg_timer_id&&(clearTimeout(err_msg_timer_id),err_msg_timer_id=0)}catch(_error){}try{orphan_timer_id&&(clearTimeout(orphan_timer_id),orphan_timer_id=0)}catch(_error){}try{inline_handler_timer_id&&(clearTimeout(inline_handler_timer_id),inline_handler_timer_id=0)}catch(_error){}return w=ie_old_attach=w3c_old_attach=ie_old_detach=w3c_old_detach=d=_ue=par=handler=grand_par=null,success},_reset_inline_handlers=function(){var e;e=void 0;try{inline_handler_timer_id&&(clearTimeout(inline_handler_timer_id),inline_handler_timer_id=0)}catch(_error){}try{isIE&&win.onmessage&&(win.onmessage=null)}catch(_error){}try{win.onerror=_handle_err}catch(_error){}inline_handler_timer_id=setTimeout(_reset_inline_handlers,DOM_WATCH_INTERVAL)},_nuke_doc=function(){var e;e=void 0;try{document.open("text/html","replace"),document.write(""),document.close()}catch(_error){}},_check_orphaned=function(){var e,is_orphaned;if(is_orphaned=!1,e=void 0,_detect_bad_iframe(),isIE){try{orphan_timer_id&&-1!==orphan_timer_id&&(clearTimeout(orphan_timer_id),orphan_timer_id=0)}catch(_error){}try{is_orphaned=win===top&&-1!==orphan_timer_id}catch(_error){e=_error,is_orphaned=!1}if(is_orphaned)return orphan_timer_id=-1,_destruction(),void _nuke_doc();try{orphan_timer_id||(orphan_timer_id=setTimeout(_check_orphaned,DOM_WATCH_INTERVAL))}catch(_error){}}},_detect_bad_iframe=function(){var idx,srcHost,tag,written;if(iframes=_tags("iframe"),idx=0,srcHost="",written=!1,tag=void 0,host_cname)for(;tag=iframes[idx++];)if(srcHost=_attr(tag,"src"),srcHost=srcHost&&srcHost.length>=9?srcHost.substring(0,srcHost.indexOf("/",9))[TOLOWERCASE]():"",srcHost&&srcHost===host_cname&&tag.className!==OUR_TAG_CLS_NAME)try{_purge(tag)}catch(_error){}},_set_hyperlink_targets=function(){var atgt,idx,ln,lns,ttgt;for(idx=0,ttgt=render_conf&&render_conf.tgt||"_top",ln=void 0,atgt=void 0,lns=void 0,lns=_tags("a"),"_self"===ttgt&&(ttgt="_top");(ln=lns[idx++])&&(atgt=_attr(ln,"target"),atgt!==ttgt&&_attr(ln,"target",ttgt),!(idx>10)););},_handle_unload=function(evt){_destruction(evt),_nuke_doc()},_handle_load=function(){loaded||(hasLoaded=!0,_detach(win,LOAD,_handle_load),_set_hyperlink_targets())},_handle_msg=function(evt){var e,msg_guid,msg_obj,msg_params,org,src,str;str=void 0,src=void 0,org=void 0,e=void 0,msg_params=void 0,msg_guid=void 0,msg_obj=void 0;try{str=evt.data,src=evt.source,org=evt.origin}catch(_error){}if(dom.evtCncl(evt),str&&src&&src===top&&(msg_params=ParamHash(str,null,null,!0,!0),msg_guid=msg_params.guid,msg_obj=msg_params.msg,guid===msg_guid&&msg_obj&&typeof msg_obj===OBJ))try{setTimeout(function(){_receive_msg(msg_obj,evt),msg_params=evt=msg_guid=msg_obj=null},1)}catch(_error){}},_call_raw_evt_func=function(type,f,remove){var bOK,e,ie_f,w3c_f;if(bOK=!1,ie_f=void 0,w3c_f=void 0,e=void 0,remove?(ie_f=ie_old_detach||w3c_old_detach,w3c_f=w3c_old_detach):(ie_f=ie_old_attach||w3c_old_attach,w3c_f=w3c_old_attach),ie_f){try{ie_f(type,f),bOK=!0}catch(_error){e=_error,bOK=!1}if(!bOK)try{ie_f.call(win,type,f),bOK=!0}catch(_error){e=_error,bOK=!1}}if(w3c_f&&!bOK)try{w3c_f.call(win,type,f,!1)}catch(_error){}},_attach_override=function(type,f){var bDoDefault;switch(bDoDefault=!1,type=_cstr(type)[TOLOWERCASE]()){case UNLOAD:case ONUNLOAD:unload_handlers.push(f);break;case MSG:case ONMSG:break;default:bDoDefault=!0}bDoDefault&&_call_raw_evt_func(type,f)},_detach_override=function(type,f){var handler,handlers,idx;switch(idx=0,handler=void 0,handlers=void 0,type=_cstr(type)[TOLOWERCASE]()){case UNLOAD:case ONUNLOAD:handlers=unload_handlers;break;case MSG:case ONMSG:}if(null!=handlers?handlers.length:void 0)for(;handler=handlers[idx];){if(handler===f){handlers.splice(idx,1);break}idx++}_call_raw_evt_func(type,f,!0)},_report_errs=function(){var cmd_str,e,errs;e=void 0,errs=void 0;try{err_msgs.length>0&&(errs=err_msgs[0],cmd_str=["cmd=",ERROR_COMMAND,"&pos=",pos_id,"&errors=",errs],_send_msg(_cstr(cmd_str),ERROR_COMMAND)),err_msg_timer_id&&(clearTimeout(err_msg_timer_id),err_msg_timer_id=0)}catch(_error){}err_msgs=[]},_handle_err=function(a,b,c){var e;e=void 0,err_msgs.push(_cstr(["Error occurred inside SafeFrame:\nMessage: ",a,"\nURL:",b,"\nLine:",c]));try{err_msg_timer_id&&(clearTimeout(err_msg_timer_id),err_msg_timer_id=0),err_msg_timer_id=setTimeout(_report_errs,DOM_WATCH_INTERVAL)}catch(_error){}return!0},_setup_win_evt_props=function(obj){var O,e,n,nobj,ret;if(n=lang.noop,O=Object,nobj={get:n,set:n},ret=!1,obj){if(ie_old_attach&&(obj[IE_ATTACH]=_attach_override,obj[IE_DETACH]=_detach_override),w3c_old_attach&&(obj[W3C_ATTACH]=_attach_override,obj[W3C_DETACH]=_detach_override),obj[DG])try{obj[DG](ONLOAD,n),obj[DS](ONLOAD,n),obj[DG](ONUNLOAD,n),obj[DS](ONUNLOAD,n),obj[DG](ONMSG,n),obj[DS](ONMSG,n),ret=!0}catch(_error){e=_error,ret=!1}if(!ret&&O[DP])try{O[DP](obj,ONLOAD,nobj),O[DP](obj,ONUNLOAD,nobj),O[DP](obj,ONMSG,nobg),ret=!0}catch(_error){e=_error,ret=!1}}return ret},_construction=function(details){var cont,cur_time,e,el,guid_time,nm,ret,temp,time_delta;cont=!1,ret=!0,el=void 0,nm=void 0,temp=void 0,cur_time=void 0,guid_time=void 0,time_delta=void 0,e=void 0,details=details&&details instanceof Object?details:{};try{nm=win.name}catch(_error){}try{win.name=""}catch(_error){}if(!nm)return details.status=500.101,cont;try{top===par?(render_params=ParamHash(nm,null,null,!0,!0),cur_time=lang.time(),guid=render_params.guid,guid_time=_cnum(guid.replace(/[^_]*_(\d+)_\d+_\d+/g,"$1"),0),time_delta=cur_time-guid_time,cont=guid&&guid_time&&time_delta>0&&GUID_VALID_TIME>time_delta,render_params.loc&&(render_params.loc=unescape(render_params.loc)),cont||(details.status=500.104)):details.status=500.102}catch(_error){e=_error,render_params=guid=null,cont=!1,details.status=500.103}if(cont)try{if(render_conf=render_params.conf,frame_id=win.name=render_conf.dest,pos_id=render_conf.id,pos_meta=render_params.meta,host_cname=render_params.host,geom_info=render_params.geom,can_use_html5=lang.cbool(render_params.html5),win_has_focus=lang.cbool(render_params.has_focus),temp=render_conf.bg,geom_info&&(geom_info=ParamHash(_ue(geom_info),null,null,!0,!0),geom_info.self&&geom_info.exp||(geom_info=null)),host_cname||(host_cname=d.referrer,host_cname=host_cname.substring(0,host_cname.indexOf("/",9))),temp&&_create_stylesheet(_cstr(["#sf_body { background-color: ",temp,"; }"]),"sf_bg_css"),temp=render_conf.tgt,"_self"===temp&&(render_conf.tgt="_top"),temp||(render_conf.tgt="_top"),"_top"!==temp)for(;_purge(_tags("base")[0]););el=dom.make("base"),_attr(el,"target",temp),_append(_tags("head")[0],el),isIE&&(ie_old_attach=win[IE_ATTACH],ie_old_detach=win[IE_DETACH]),w3c_old_attach=win[W3C_ATTACH],w3c_old_detach=win[W3C_DETACH],_attach(win,UNLOAD,_handle_unload),_attach(win,LOAD,_handle_load),_attach(win,MSG,_handle_msg),_setup_win_evt_props(win),_setup_win_evt_props(win.__proto__),_setup_win_evt_props(win.Window&&win.Window.prototype)}catch(_error){e=_error,details.status=500.105,render_params=render_conf=guid=null,ret=!1}else render_params=guid=null,ret=!1;return ret},_wrapiFrame=function(html,cbName){return'<iframe style="width:100%;height:100%;" allowtransparency="true"\nscrolling="no" marginwidth="0" marginheight="0" frameborder="0" onload=\''+cbName+'()\'>\n<html><head><base target="_top"></head><body style="margin: 0; padding: 0">\n<script>\n  $ad = window.parent.$ad\n  $sf = window.parent.$sf\n</script>\n  '+html+"\n</html>\n</iframe>"},originalWrite=document.write,_render=function(contentOverride,callback){var cbName,css,e,html,otherCallbackApplied;if(null==callback&&(callback=function(){}),cbName=lib.lang.guid("load_cb"),otherCallbackApplied=!1,window[cbName]=function(fromFrame){return sf.lib.lang.wrap(callback,function(){return fromFrame||!otherCallbackApplied?(callback.apply(sf,arguments),_handle_load(),loaded(),document.write=originalWrite,delete window[cbName]):void 0})()},document.write=function(str){var domElem,iframe,oldOnload,_i,_len,_ref;if(!hasLoaded&&!otherCallbackApplied){for(domElem=document.createElement("div"),domElem.innerHTML="_"+str,_ref=domElem.getElementsByTagName("iframe"),_i=0,_len=_ref.length;_len>_i;_i++)if(iframe=_ref[_i],_cnum(_attr(iframe,"width"),0)>1){otherCallbackApplied=!0,(oldOnload=_attr(iframe,"onload"))?_attr(iframe,"onload",""+cbName+"(true);"+oldOnload+";"):_attr(iframe,"onload",""+cbName+"(true);");break}otherCallbackApplied&&(str=domElem.innerHTML.substring(1))}return originalWrite.call(this,str)},html=void 0,css=void 0,isAdShown=!0,css=_cstr(render_conf&&render_conf.css),html=contentOverride||_cstr(render_params&&render_params.html),css&&(css=_ue(css),_create_stylesheet(css,"sf_custom_css")),html){html=_ue(html);try{_reattach_messaging(),_requested(),document.write(html+"<scr"+("ipt> "+cbName+"() ;</scr")+"ipt>"),_check_orphaned(),_reset_inline_handlers()}catch(_error){e=_error,_handle_err("Error while rendering content: "+e[MSG])}}},_call_client_fb=function(methName,arg1,arg2){var msg_clientfb;return msgclient_fb&&(msg_clientfb=dom.msgclient_fb),methName&&msgclient_fb&&msgclient_fb[methName]&&msgclient_fb[methName](arg1,arg2)},_receive_msg=function(params){var cmd,data,e,g,msg,ret;return ret=!1,msg=void 0,cmd=void 0,g=void 0,e=void 0,data={},params&&(g=params.geom||"",cmd=params.cmd,g&&(geom_info=ParamHash(_ue(g),null,null,!0,!0))),data.cmd=cmd,data.value=data.info=params&&params.value,data.reason=params&&params.reason,cmd===NOTIFY_COLLAPSED?(ret=!0,is_expanded&&(pending_msg=null,is_expanded=!1,force_collapse=!0,_collapse(),force_collapse=!1,_fire_sandbox_callback(NOTIFY_COLLAPSED),_shiftMessageQueue())):cmd===NOTIFY_COLLAPSE?(ret=!0,is_expanded&&(pending_msg=null,is_expanded=!1,_fire_sandbox_callback(NOTIFY_COLLAPSED),_shiftMessageQueue())):cmd===NOTIFY_EXPAND?(ret=!0,pending_msg&&(pending_msg=null,is_expanded=!0,_fire_sandbox_callback(NOTIFY_EXPAND+"ed"),_shiftMessageQueue())):cmd===NOTIFY_GEOM_UPDATE?_fire_sandbox_callback(NOTIFY_GEOM_UPDATE):cmd===NOTIFY_FOCUS_CHANGE?(data.info=data.value=lang.cbool(data.value),win_has_focus=data.value,_fire_sandbox_callback(NOTIFY_FOCUS_CHANGE,data)):cmd===NOTIFY_READ_COOKIE?(ret=!0,pending_msg&&(pending_msg=null,data=params&&params.value,_fire_sandbox_callback(NOTIFY_READ_COOKIE,data),_shiftMessageQueue())):[NOTIFY_WRITE_COOKIE,NOTIFY_FAILURE,NOTIFY_CLICKED,NOTIFY_VIEWED,NOTIFY_UNVIEWED,NOTIFY_LOADED,NOTIFY_REQUESTED,NOTIFY_RELOAD].indexOf(cmd)>-1?(ret=!0,pending_msg&&(pending_msg=null),_fire_sandbox_callback(cmd,data),_shiftMessageQueue()):(ret=!0,pending_msg&&(pending_msg=null),_fire_sandbox_callback(cmd,data),_shiftMessageQueue()),params=null,ret},cmdRetries={},_shiftMessageQueue=function(){var result;return(result=messageQueue.shift())?_send_msg.apply(this,result):void 0},_send_msg=function(str,cmd){var e,id,params,sent,sent_time;if(id=lang.guid("sf_pnd_cmd"),frame_id=render_params.dest,sent=!1,sent_time=lang.time(),params=void 0,!str||!cmd||pending_msg)return void(pending_msg&&messageQueue.push([str,cmd]));if(params=ParamHash({msg:str,id:frame_id,guid:guid,cmd:cmd}),pending_msg={id:id,sent:sent_time,cmd:cmd},setTimeout(function(){pending_msg&&pending_msg.id===id&&((cmd===EXPAND_COMMAND||"exp-push"===cmd)&&(force_collapse=!0,_collapse(),force_collapse=!1),_fire_sandbox_callback(NOTIFY_FAILURE+":"+cmd+":timeout")),id=sent=sent_time=cmd=str=pending_msg=params=null,_shiftMessageQueue()},MAX_MSG_WAIT_TIME),can_use_html5)try{top.postMessage(params.toString(),"file"===host_cname||""===host_cname?"*":host_cname),sent=!0}catch(_error){e=_error,sent=!1}sent||_call_client_fb("send",params)},_fire_sandbox_callback=function(msg,data){var e;e=void 0;try{"function"==typeof sandbox_cb&&sandbox_cb(msg,data)}catch(_error){}},_set_alignment=function(xn,yn){var fcDiv,fcDivStyle,preTxt,xTxt,yTxt;fcDiv=_elt("sf_align"),fcDivStyle=fcDiv.style,xTxt=void 0,yTxt=void 0,preTxt="position:absolute;",xTxt=xn?"right:0px;":"left:0px;",yTxt=yn?"bottom:0px;":"top:0px;",fcDivStyle.cssText=preTxt+xTxt+yTxt,fcDiv=fcDivStyle=null},_collapse=function(){return force_collapse||is_registered&&is_expanded&&!pending_msg?(_set_alignment(0,0),!0):!1},_reattach_messaging=function(){return ie_old_attach?(ie_old_detach(ONMSG,_handle_msg),ie_old_attach(ONMSG,_handle_msg)):w3c_old_attach?(w3c_old_detach(MSG,_handle_msg),w3c_old_attach(MSG,_handle_msg)):void 0},register=function(initWidth,initHeight,notify){!is_registered&&guid&&(initWidth=_cnum(initWidth,0,0),initHeight=_cnum(initHeight,0,0),init_width=initWidth,init_height=initHeight,is_registered=!0,sandbox_cb=lang.callable(notify)?notify:null)},expand=function(deltaXorDesc,deltaY,p){var align_buffer,align_el,align_el_st,b,cmd_nm,cmd_str,doAlign,dx,dy,l,r,t,xn,yn;if(xn=!1,yn=!1,doAlign=!1,cmd_nm=p?"exp-push":EXPAND_COMMAND,cmd_str=["cmd=",cmd_nm,"&pos=",pos_id],dx=0,dy=0,r=void 0,b=void 0,t=void 0,l=void 0,align_el=void 0,align_el_st=void 0,align_buffer=void 0,is_registered&&!pending_msg&&(!p||supports("exp-push"))){if(deltaXorDesc&&typeof deltaXorDesc===OBJ){if(r=_cnum(deltaXorDesc.r,0,0),b=_cnum(deltaXorDesc.b,0,0),t=_cnum(deltaXorDesc.t,0,0),l=_cnum(deltaXorDesc.l,0,0),deltaXorDesc.push){if(!supports("exp-push"))return;cmd_nm="exp-push",cmd_str[1]=cmd_nm}!r&&l&&(xn=!0,dx=-1*l),r&&!l&&(dx=r),!b&&t&&(yn=!0,dy=-1*t),b&&!t&&(dy=b),doAlign=t&&b||l&&r?!1:!0,doAlign?(_set_alignment(xn,yn),cmd_str.push("&dx=",dx,"&dy=",dy),_send_msg(_cstr(cmd_str),cmd_nm)):(align_el=_elt("sf_align"),align_el_st=align_el&&align_el.style,align_buffer=["position:absolute;"],t&&b?align_buffer.push("top:",t,"px;"):t?align_buffer.push("bottom:0px;"):b&&align_buffer.push("top:0px;"),l&&r?align_buffer.push("left:",l,"px;"):l?align_buffer.push("right:0px;"):b&&align_buffer.push("left:0px;"),align_el_st&&(align_el_st.cssText=_cstr(align_buffer)),cmd_str.push("&exp_obj=",escape(ParamHash(deltaXorDesc))),_send_msg(_cstr(cmd_str),cmd_nm))}else{if(deltaXorDesc=_cnum(deltaXorDesc,0),deltaY=_cnum(deltaY,0),0>=deltaXorDesc&&0>=deltaY)return;xn=0>=deltaXorDesc,yn=0>=deltaY,_set_alignment(xn,yn),cmd_str.push("&dx=",deltaXorDesc,"&dy=",deltaY),_send_msg(_cstr(cmd_str),cmd_nm)}return!0}},collapse=function(){_collapse()&&_send_msg(_cstr(["cmd=",COLLAPSE_COMMAND,"&pos=",pos_id]),COLLAPSE_COMMAND)},click=function(){return _send_cmd(NOTIFY_CLICKED)},viewed=function(){return _send_cmd(NOTIFY_VIEWED)},loaded=function(){return _send_cmd(NOTIFY_LOADED)},unviewed=function(){return _send_cmd(NOTIFY_UNVIEWED)},reload=function(){return _send_cmd(NOTIFY_RELOAD)},_requested=function(){return _fire_sandbox_callback(NOTIFY_REQUESTED),_send_cmd(NOTIFY_REQUESTED)},_send_cmd=function(cmd){return _send_msg(_cstr(["cmd=",cmd,"&pos=",pos_id]),cmd)},geom=function(){return geom_info},meta=function(propName,owner_key){var ret,shared;return ret="",shared=void 0,pos_meta&&(owner_key?owner_key in pos_meta?ret=_cstr(pos_meta[owner_key][propName]):pos_meta.non_shared&&owner_key in pos_meta.non_shared&&(ret=_cstr(pos_meta.non_shared[owner_key][propName])):(shared=pos_meta.shared,shared&&typeof shared===OBJ&&(ret=_cstr(shared[propName])))),ret},deleteMeta=function(propName,owner_key){var shared;if(shared=void 0,pos_meta)if(owner_key){if(owner_key in pos_meta)return delete pos_meta[owner_key][propName];if(pos_meta.non_shared&&owner_key in pos_meta.non_shared)return delete pos_meta.non_shared[owner_key][propName]}else if(shared=pos_meta.shared,shared&&typeof shared===OBJ)return delete shared[propName]},status=function(){if(pending_msg){if(pending_msg.cmd===EXPAND_COMMAND)return STATUS_EXPANDING;if(pending_msg.cmd===COLLAPSE_COMMAND)return STATUS}return is_expanded?STATUS_EXPANDED:STATUS_COLLAPSED},cookie=function(cookieName,cookieData){var cmd_nm,cmd_str,isRead;isRead=!(null!=cookieData),cmd_nm=isRead?"read-cookie":"write-cookie",cmd_str=["cmd=",cmd_nm,"&pos=",pos_id,"&cookie=",cookieName],isRead||(cmd_str.push("&value="),cmd_str.push(cookieData.value)),_send_msg(_cstr(cmd_str),cmd_nm)},message=function(content){_send_msg(_cstr(["cmd=","msg","&pos=",pos_id,"&msg=",content]),"msg")},inViewPercentage=function(){var iv,tv;return iv=_cnum(geom_info&&geom_info.self&&geom_info.self.iv,-1,0),tv=void 0,iv>=0&&(tv=Math.floor(100*iv)),tv},winHasFocus=function(){return win_has_focus},supports=function(key){var conf,sup;return conf=render_params.conf,sup=conf&&conf.supports||!1,sup&&(key=_cstr(key),key?(sup=sup[key]||!1,"0"===sup&&(sup=!1)):sup=lang.mix({},sup)),sup},render=function(showAd,contentOverride,cb){var err_info;return err_info={},_construction(err_info)&&showAd?_render(contentOverride,cb):void 0},showAd=function(contentOverride,cb){return isAdShown?void 0:_render(contentOverride,cb)},adShown=function(){return isAdShown},lang.mix(sf.ext,{register:register,expand:expand,collapse:collapse,geom:geom,meta:meta,deleteMeta:deleteMeta,status:status,supports:supports,cookie:cookie,message:message,inViewPercentage:inViewPercentage,winHasFocus:winHasFocus,click:click,viewed:viewed,unviewed:unviewed,showAd:showAd,adShown:adShown,reload:reload}),isExternal?(window.$sf=sf,sf.ext.render=render):(window.$sf=sf,render()),sf}(window,sf)}}).call(this)},{"../shared/base":13}],13:[function(require,module){(function(){var dom,env,lang,logger;lang=require("./lang"),env=require("./env"),dom=require("./dom"),logger=require("./logger"),module.exports=function(lang,env,dom,logger){return{ver:"1-1-0",specVersion:"1.1",lib:{lang:lang,dom:dom,logger:logger},env:env,host:{},ext:{},info:{errs:[],list:[]}}
}(lang,env,dom,logger)}).call(this)},{"./dom":14,"./env":15,"./lang":16,"./logger":17}],14:[function(require,module){(function(){var env,lang;lang=require("./lang"),env=require("./env"),module.exports=function(window,lang,env){var BLANK_URL,EVT_CNCL_METHODS,GC,IE_GC_INTERVAL,IFRAME,append,attach,attr,clone_iframe,css,detach,doc,dom,dom_is_ready,dom_last_known_child_node,dom_last_known_tag_count,dom_ready_chk_max_tries,dom_ready_chk_timer_id,dom_ready_chk_tries,dom_ready_chk_try_interval,elt,evtCncl,evtTgt,evt_tgt_prop_a,evt_tgt_prop_b,gc,gc_timer_id,ie_attach,ie_detach,iframe_cbs_attached,iframe_msg_host_lib,iframe_next_id,iframe_view,isIE,make_element,make_iframe,par,purge,ready,replace_iframe,tagName,tags,theDocument,useOldStyleAttrMethods,use_attach,use_detach,use_ie_old_attach,view,w3c_attach,w3c_detach,wait,win,_bind_iframe_onload,_byID,_call_xmsg_host,_callable,_clear_ready_timer_check,_clone_iframe,_cstr,_env,_handle_dom_load_evt,_lang,_ready_state_check,_unbind_iframe_onload;return dom={},_lang=lang,_env=env,win=window,IFRAME="iframe",GC="CollectGarbage",ie_attach="attachEvent",w3c_attach="addEventListener",ie_detach="detachEvent",w3c_detach="removeEventListener",use_attach="",use_detach="",use_ie_old_attach=!1,IE_GC_INTERVAL=3e3,EVT_CNCL_METHODS={preventDefault:0,stopImmediatePropagation:0,stopPropagation:0,preventBubble:0},isIE=env.isIE,useOldStyleAttrMethods=!1,gc_timer_id=0,dom_is_ready=null,dom_last_known_tag_count=0,dom_last_known_child_node=null,dom_ready_chk_max_tries=300,dom_ready_chk_try_interval=50,dom_ready_chk_tries=0,dom_ready_chk_timer_id=0,iframe_next_id=0,iframe_cbs_attached={},evt_tgt_prop_a="",evt_tgt_prop_b="",iframe_msg_host_lib=null,theDocument=win.document,BLANK_URL="about:blank",_cstr=lang.cstr,_callable=lang.callable,_clear_ready_timer_check=function(){dom_ready_chk_timer_id&&(clearTimeout(dom_ready_chk_timer_id),dom_ready_chk_timer_id=0)},_handle_dom_load_evt=function(){detach(win,"load",_handle_dom_load_evt),detach(win,"DOMContentLoaded",_handle_dom_load_evt),dom_is_ready=!0},_ready_state_check=function(){var b,e,kids,lst,tag_cnt;if(_clear_ready_timer_check(),dom_ready_chk_tries>=dom_ready_chk_max_tries&&(dom_last_known_child_node=null,dom_is_ready=!0),null===dom_is_ready){try{b=theDocument&&theDocument.body,kids=b&&tags("*",b),tag_cnt=kids&&kids[LEN],lst=b&&b.lastChild}catch(_error){e=_error,dom_last_known_tag_count=0,dom_last_known_child_node=null}dom_last_known_tag_count&&tag_cnt===dom_last_known_tag_count&&lst===dom_last_known_child_node?(dom_last_known_child_node=null,dom_is_ready=!0):(dom_last_known_tag_count=tag_cnt,dom_last_known_child_node=lst,dom_ready_chk_tries+=1,dom_ready_chk_timer_id=setTimeout(_ready_state_check,dom_ready_chk_try_interval))}else dom_last_known_child_node=null},_unbind_iframe_onload=function(el){var id,oldCB;id=attr(el,"id"),oldCB=void 0,oldCB=id&&iframe_cbs_attached[id],oldCB&&(detach(el,"load",oldCB),iframe_cbs_attached[id]=null,delete iframe_cbs_attached[id])},_bind_iframe_onload=function(el,cb){var id,newCB;newCB=void 0,id=void 0,_callable(cb)&&(newCB=function(evt){var e,tgt;if(tgt=evtTgt(evt),e=void 0,_unbind_iframe_onload(tgt),tgt&&cb)try{cb.call(tgt,evt)}catch(_error){}tgt=el=cb=newCB=id=null},id=attr(el,"id"),_unbind_iframe_onload(el),id&&(iframe_cbs_attached[id]=newCB),attach(el,"load",newCB)),newCB=null},_byID=function(el){return el&&"string"==typeof el?elt(el)||el:el},_call_xmsg_host=function(methName,arg1,arg2,arg3){var e;e=void 0;try{iframe_msg_host_lib||(iframe_msg_host_lib=dom.msghost)}catch(_error){e=_error,iframe_msg_host_lib=null}if(win===top)return methName&&iframe_msg_host_lib&&iframe_msg_host_lib[methName]&&iframe_msg_host_lib[methName](arg1,arg2,arg3)},doc=function(el){var e,localD;localD=null;try{el&&(localD=9===el.nodeType?el:el.document||el.ownerDocument||null)}catch(_error){e=_error,localD=null}return localD},view=function(el){var e,localD,prop1,prop2,w;w=null,localD=void 0,prop1="parentWindow",prop2="defaultView";try{el&&(w=el[prop1]||el[prop2]||null,w||(localD=doc(el),w=localD&&(localD[prop1]||localD[prop2])||null))}catch(_error){e=_error,w=null}return w},elt=function(id){var args,dc,len;return args=arguments,len=args.length,dc=void 0,dc=len>1?doc(args[1]):theDocument,dc&&dc.getElementById(id)||null},tagName=function(el){return el&&1===el.nodeType&&el.tagName.toLowerCase()||""},tags=function(name,parNode){var e,ret;ret=[],e=void 0;try{ret=parNode&&parNode.getElementsByTagName?parNode.getElementsByTagName(name)||ret:theDocument.getElementsByTagName(name)||ret}catch(_error){e=_error,ret=[]}return ret},par=function(el){return el&&(el.parentNode||el.parentElement)},attr=function(el,attrName,attrVal){var e;e=void 0;try{arguments.length>2?null===attrVal?useOldStyleAttrMethods?el.removeAttribute(attrName,0):el.removeAttribute(attrName):(attrVal=_cstr(attrVal),"class"===attrName.toLowerCase()?el.className=attrVal:useOldStyleAttrMethods?el.setAttribute(attrName,attrVal,0):el.setAttribute(attrName,attrVal)):attrVal=_cstr(useOldStyleAttrMethods?el.getAttribute(attrName,0):el.getAttribute(attrName))}catch(_error){e=_error,attrVal=""}return attrVal},css=function(el,val){var e,st;st=void 0;try{st=el.style,arguments.length>1?st.cssText=_cstr(val):val=st.cssText}catch(_error){e=_error,val=""}return val},make_element=function(tagName,par){return(arguments.length>1&&doc(par)||theDocument).createElement(tagName)},append=function(parNode,child){var e,success;success=!1,e=void 0;try{parNode&&(success=parNode.appendChild(child))}catch(_error){e=_error,success=!1}return success},purge=function(node){var e,isIFrame,parNode,success;success=!1,parNode=void 0,isIFrame=tagName(node)===IFRAME,e=void 0,isIFrame&&(_call_xmsg_host("detach",node),_unbind_iframe_onload(node),isIE||attr(node,"src",BLANK_URL));try{parNode=par(node),parNode&&(parNode.removeChild(node),success=!0,isIE&&isIFrame&&gc())}catch(_error){}return node=parNode=null,success},attach=function(obj,name,cb){try{use_ie_old_attach?obj[use_attach]("on"+name,cb):obj[use_attach](name,cb,!1)}catch(_error){}obj=cb=null},detach=function(obj,name,cb){try{use_ie_old_attach?obj.detachEvent("on"+name,cb):obj.removeEventListener(name,cb,!1)}catch(_error){}obj=cb=null},ready=function(){var rs;return rs=void 0,_clear_ready_timer_check(),dom_is_ready?(dom_last_known_child_node=null,!0):(rs=theDocument.readyState,rs&&(dom_last_known_child_node=null,dom_is_ready="loaded"===rs||"complete"===rs?!0:!1),dom_last_known_child_node=null,dom_ready_chk_tries=dom_last_known_tag_count=0,_ready_state_check(),!!dom_is_ready)},wait=function(cb){var e,rdy;if(rdy=ready(),e=void 0,rdy)try{lang.callable(cb)&&cb()}catch(_error){e=_error,e=null}else setTimeout(function(){wait(cb),cb=null},dom_ready_chk_try_interval+1)},evtCncl=function(evt){var e,prop;if(prop="",e=void 0,evt=evt||win.event){try{evt.returnValue=!1}catch(_error){}try{evt.cancelBubble=!0}catch(_error){}try{evt.stopped=!0}catch(_error){}for(prop in EVT_CNCL_METHODS)if(EVT_CNCL_METHODS[prop])try{evt[prop]()}catch(_error){}}return!1},evtTgt=function(evt){var e,tgt;tgt=null;try{evt=evt||win.event,tgt=evt?evt[evt_tgt_prop_a]||evt[evt_tgt_prop_b]:null}catch(_error){e=_error,tgt=null}return tgt},clone_iframe=function(el,attrs,cssText,cb,xmsgCB){return _clone_iframe(el,attrs,cssText,cb,xmsgCB)},_clone_iframe=function(el,attrs,cssText,cb,xmsgCB,iframe_skip_clone){var attrStr,bufferHTML,cl,html,newCl,prop,temp,xmsgPipe;if(bufferHTML=["<",IFRAME," "],xmsgPipe="",prop=void 0,temp=void 0,cl=void 0,newCl=void 0,html=void 0,attrStr=void 0,iframe_skip_clone)cl=el;else{if(el=_byID(el),tagName(el)!==IFRAME)return null;cl=el.cloneNode(!1)}attrs=attrs||{},"src"in attrs?attr(cl,"src",null):attrs.src=attr(el,"src")||BLANK_URL,"name"in attrs?attr(cl,"name",null):attrs.name=attr(el,"name"),attrs.src||(attrs.src=BLANK_URL),xmsgPipe=xmsgCB&&_call_xmsg_host("prep",attrs),iframe_skip_clone||(attr(cl,"width",null),attr(cl,"height",null)),cssText&&(temp=css(cl),temp&&";"!==temp.charAt(temp.length-1)&&(temp+=";"),css(cl,[temp,_cstr(cssText)])),temp=make_element("div"),append(temp,cl),html=temp.innerHTML,attrStr=html.replace(/<iframe(.*?)>(.*?)<\/iframe>/g,"$1"),bufferHTML.push('name="',attrs.name,'" ',attrStr,"></",IFRAME,">"),delete attrs.name,temp.innerHTML=_cstr(bufferHTML),newCl=temp.firstChild;for(prop in attrs)attr(newCl,prop,attrs[prop]);return attr(newCl,"id")||(attr(newCl,"id","sf_"+IFRAME+"_"+iframe_next_id),iframe_next_id++),attr(newCl,"FRAMEBORDER","no"),attr(newCl,"SCROLLING","no"),attr(newCl,"ALLOWTRANSPARENCY",!0),attr(newCl,"HIDEFOCUS",!0),attr(newCl,"TABINDEX",-1),attr(newCl,"MARGINWIDTH",0),attr(newCl,"MARGINHEIGHT",0),_bind_iframe_onload(newCl,cb),xmsgPipe&&_call_xmsg_host("attach",newCl,xmsgPipe,xmsgCB),xmsgPipe=xmsgCB=cl=cb=el=temp=null,newCl},make_iframe=function(attrs,cssText,cb,xmsgCB){return _clone_iframe(make_element(IFRAME),attrs,cssText,cb,xmsgCB,!0)},replace_iframe=function(attrs,cssText,parRef,cb,xmsgCB){var cl,e,el,elID,frameEl,parNode,tgn;cl=void 0,el=void 0,frameEl=void 0,elID=void 0,tgn=void 0,parNode=void 0,e=void 0,attrs=attrs||{},elID=attrs.id,el=elID&&_byID(elID),tgn=tagName(el),el=tgn?el:null,frameEl=tgn===IFRAME?el:null,frameEl?(_call_xmsg_host("detach",frameEl),_unbind_iframe_onload(frameEl),parNode=par(frameEl),cl=clone_iframe(frameEl,attrs,cssText,cb,xmsgCB),attr(cl,"onload",null),attr(cl,"onreadystatechange",null)):(parRef&&(parRef=_byID(parRef),tagName(parRef)&&(parNode=parRef)),!parNode&&el&&(parNode=par(el)),cssText=_cstr(cssText)||css(el)||"",cl=make_iframe(attrs,cssText,cb,xmsgCB));try{parNode?frameEl?parNode.replaceChild(cl,frameEl):el?parNode.replaceChild(cl,el):append(parNode,cl):append(theDocument.body,cl)}catch(_error){}return cl=el=attrs=frameEl=parNode=cb=null,elt(elID)},iframe_view=function(el){var e,elDoc,elWin,err,fe,frame,frame_list,idx,localWin;localWin=void 0,elWin=void 0,elDoc=void 0,frame_list=void 0,frame=void 0,fe=void 0,idx=0,e=void 0,err=void 0;try{if(localWin=el.contentWindow||null,!win)for(elDoc=doc(el),elWin=elDoc&&view(elDoc),frame_list=elWin&&elWin.frames||[];frame=frame_list[idx++];){try{fe=frame.frameElement}catch(_error){err=_error,fe=null}if(fe&&fe===el){localWin=frame;break}}}catch(_error){e=_error,localWin=null}return localWin},gc=_lang.noop,function(){var ATTR_NAME,CREATE_EVENT,EVT_TYPE,err,obj,prop;obj=void 0,ATTR_NAME="SCROLLING",CREATE_EVENT="createEvent",EVT_TYPE="UIEvent",prop=void 0,err=void 0,isIE?(evt_tgt_prop_a="srcElement",evt_tgt_prop_b="target",obj=make_element(IFRAME),attr(obj,ATTR_NAME,"no"),useOldStyleAttrMethods="no"!==attr(obj,ATTR_NAME),gc=GC in win?function(){gc_timer_id&&clearTimeout(gc_timer_id),gc_timer_ig(setTimeout(function(){try{win[GC]()}catch(_error){}},IE_GC_INTERVAL))}:_lang.noop):(evt_tgt_prop_a="target",evt_tgt_prop_b="currentTarget"),win[w3c_attach]&&!isIE?(use_attach=w3c_attach,use_detach=w3c_detach):isIE&&(use_ie_old_attach=!0,use_attach=ie_attach,use_detach=ie_detach),obj=null;try{obj=theDocument[CREATE_EVENT](EVT_TYPE)}catch(_error){err=_error,obj=null}if(!obj)try{obj=theDocument[CREATE_EVENT](EVT_TYPE+"s")}catch(_error){err=_error,obj=null}if(obj)for(prop in EVT_CNCL_METHODS)obj[prop]&&(EVT_CNCL_METHODS[prop]=1);return obj=null,attach(win,"load",_handle_dom_load_evt),attach(win,"DOMContentLoaded",_handle_dom_load_evt)}(),dom={doc:doc,view:view,elt:elt,tagName:tagName,tags:tags,par:par,make:make_element,css:css,attr:attr,gc:gc,append:append,purge:purge,attach:attach,detach:detach,ready:ready,wait:wait,evtCncl:evtCncl,evtTgt:evtTgt,iframes:{make:make_iframe,clone:clone_iframe,replace:replace_iframe,view:iframe_view}}}(window,lang,env)}).call(this)},{"./env":15,"./lang":16}],15:[function(require,module){(function(process){(function(){var lang,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};lang=require("./lang"),module.exports=function(window){var cached_ua,isIE,isIE11,navigator,theDocument,ua,userAgent,win;return win=window,navigator=window.navigator,theDocument=window.document,userAgent=(null!=navigator?navigator.userAgent:void 0)||"",isIE11=!window.ActiveXObject&&__indexOf.call(window,"ActiveXObject")>=0,isIE=!isIE11&&win&&__indexOf.call(win,"ActiveXObject")>=0,cached_ua=null,ua=function(){var parse_ua,_matchIt,_numberify,_testIt;return _numberify=function(s){var c;return c=0,parseFloat(s.replace(/\./g,function(){return 1===c++?"":"."}))},_matchIt=function(str,regEx,idx){var m;return m=str&&str.match(regEx),null==idx?m:m&&m[idx]||null},_testIt=function(regEx,str){return regEx.test(str)},parse_ua=function(subUA){var date,e,match,ret;if(ret={},date=new Date,!subUA&&cached_ua)return cached_ua;ret.ie=ret.opera=ret.gecko=ret.webkit=ret.safari=ret.chrome=ret.air=ret.ipod=ret.ipad=ret.iphone=ret.android=ret.webos=ret.silk=ret.nodejs=ret.phantomjs=0,ret.mobile=ret.ios=ret.os=null,ret.accel=!1,ret.caja=navigator&&navigator.cajaVersion,ret.cks=!1,subUA=subUA||userAgent||"",subUA&&(_testIt(/windows|win32/i,subUA)?ret.os="windows":_testIt(/macintosh|mac_powerpc/i,subUA)?ret.os="macintosh":_testIt(/android/i,subUA)?ret.os="android":_testIt(/symbos/i,subUA)?ret.os="symbos":_testIt(/linux/i,subUA)?ret.os="linux":_testIt(/rhino/i,subUA)&&(ret.os="rhino"),_testIt(/KHTML/,subUA)&&(ret.webkit=1),_testIt(/IEMobile|XBLWP7/,subUA)&&(ret.mobile="windows"),_testIt(/Fennec/,subUA)&&(ret.mobile="gecko"),match=_matchIt(subUA,/AppleWebKit\/([^\s]*)/,1),match&&(ret.webkit=_numberify(match),ret.safari=ret.webkit,_testIt(/PhantomJS/,subUA)&&(match=_matchIt(subUA,/PhantomJS\/([^\s]*)/,1),match&&(ret.phantomjs=_numberify(match))),_testIt(RegExp(" Mobile\\/"),subUA)||_testIt(/iPad|iPod|iPhone/,subUA)?(ret.mobile="Apple",match=_matchIt(subUA,/OS ([^\s]*)/,1),match=match&&_numberify(match.replace("_",".")),ret.ios=match,ret.ipad=ret.ipod=ret.iphone=0,match=_matchIt(subUA,/iPad|iPod|iPhone/,0),match&&(ret[match.toLowerCase()]=ret.ios)):(match=_matchIt(subUA,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0),match&&(ret.mobile=match),_testIt(/webOS/,subUA)&&(ret.mobile="WebOS",match=_matchIt(subUA,/webOS\/([^\s]*);/,1),match&&(ret.webos=_numberify(match))),_testIt(RegExp(" Android"),subUA)&&(ret.mobile="Android",match=_matchIt(subUA,/Android ([^\s]*);/,1),match&&(ret.android=_numberify(match))),_testIt(/Silk/,subUA)&&(match=_matchIt(subUA,/Silk\/([^\s]*)\)/,1),match&&(ret.silk=_numberify(match)),ret.android||(ret.android=2.34,ret.os="Android"),_testIt(/Accelerated=true/,subUA)&&(ret.accel=!0))),match=subUA.match(/(Chrome|CrMo)\/([^\s]*)/),match&&match[1]&&match[2]?(ret.chrome=_numberify(match[2]),ret.safari=0,"CrMo"===match[1]&&(ret.mobile="chrome")):(match=_matchIt(subUA,/AdobeAIR\/([^\s]*)/),match&&(ret.air=match[0]))),ret.webkit||(match=_matchIt(subUA,/Opera[\s\/]([^\s]*)/,1),match?(ret.opera=_numberify(match),match=_matchIt(subUA,/Opera Mini[^;]*/,0),match&&(ret.mobile=match)):(match=_matchIt(subUA,/MSIE\s([^;]*)/,1),match?ret.ie=_numberify(match):(match=_matchIt(subUA,/Gecko\/([^\s]*)/),match&&(ret.gecko=1,match=_matchIt(subUA,/rv:([^\s\)]*)/,1),match&&(ret.gecko=_numberify(match)))))));try{date.setTime(date.getTime()+1e3),theDocument.cookie=lang.cstr(["sf_ck_tst=test; expires=",date.toGMTString(),"; path=/"]),-1!==theDocument.cookie.indexOf("sf_ck_tst")&&(ret.cks=!0)}catch(_error){e=_error,ret.cks=!1}try{"object"==typeof process&&process.versions&&process.versions.node&&(ret.os=process.platform,ret.nodejs=numberify(process.versions.node))}catch(_error){e=_error,ret.nodejs=0}return ret},cached_ua=parse_ua(),cached_ua.parse=parse_ua,cached_ua}(),{ua:ua,isIE:isIE}}(window)}).call(this)}).call(this,require("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./lang":16,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":27}],16:[function(require,module,exports){(function(){module.exports=function(window){var ParamHash,backSlash,callable,cbool,cnum,cstr,def,entityMap,entityRegexes,guid,isArray,jssafe_html,jsunsafe_html,k,keys,lang,mix,next_id,noop,ns,proto,rand,scrip_str,time,toString,trim,v,win,wrap,_es,_ref,_ue;next_id=0,win=window,backSlash=String.fromCharCode(92),scrip_str='scr"+"ipt',_es=win.escape,_ue=win.unescape,noop=function(){},cstr=function(str){var typ;return typ=typeof str,"string"===typ?str:"number"!==typ||str?"object"===typ&&str&&str.join?str.join(""):"boolean"===typ?str.toString():str?String(str):"":"0"},cbool=function(val){return val&&"0"!==val&&"false"!==val&&"no"!==val&&"undefined"!==val&&"null"!==val?!0:!1},keys=function(obj){var k,_v;return("function"==typeof Object.keys?Object.keys(obj):void 0)||function(){var _results;_results=[];for(k in obj)_v=obj[k],_results.push(k);return _results}()},cnum=function(val,defVal,minVal,maxVal){var e;if("number"!=typeof val)try{val=val?parseFloat(val):Number.NaN}catch(_error){e=_error,val=Number.NaN}return null==maxVal&&(maxVal=Number.MAX_VALUE),null==minVal&&(minVal=-Number.MAX_VALUE),(isNaN(val)||minVal>val||val>maxVal)&&null!=defVal?defVal:val},callable=function(f){var e;try{f=f&&"function"==typeof f&&f.toString()&&new f.constructor?f:null}catch(_error){e=_error,f=null}return!!f},guid=function(prefix){return cstr([prefix||"","_",time(),"_",rand(),"_",next_id++])},mix=function(r,s,owned,skipFuncs,no_ovr){var item,p,typ;if(!s||!r)return r;for(p in s)item=s[p],typ=typeof item,(!owned||s.hasOwnProperty(p))&&(no_ovr&&p in r||skipFuncs&&"function"===typ||("object"===typ&&item&&(item=item.slice?mix([],item):mix({},item)),r[p]=item));return r},time=function(){return(new Date).getTime()},rand=function(){return Math.round(100*Math.random())},trim=function(str){var ret;return ret=cstr(str),ret&&ret.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},def=function(str_ns,aug,root,no_ovr){var ar,idx,item,obj,per,ret;if(obj=root&&"object"==typeof root?root:win,idx=0,per=".",ret=null,str_ns)if(str_ns=cstr(str_ns),aug=aug&&"object"==typeof aug?aug:null,str_ns.indexOf(per))for(ar=str_ns.split(per);item=ar[idx++];)item=trim(item),ret=idx===ar.length?obj[item]&&aug?obj[item]=mix(obj[item],aug,!1,null,no_ovr):no_ovr&&item in obj?obj[item]:obj[item]=obj[item]||aug||{}:no_ovr&&item in obj?obj[item]:obj[item]=obj[item]||{},obj=obj[item];else ret=obj[str_ns]=obj[str_ns]&&aug?mix(obj[str_ns],aug,!1,null,no_ovr):obj[str_ns]||aug||{};return ret},ns=function(str_ns,root){var exists,exp,exp2,exp3,exp4,idx,matches,obj,prop,rootStr;if(exp=/(\[(.{1,})\])|(\.\w+)/g,exp2=/\[(('|")?)((\s|.)*?)(('|")?)\]/g,exp3=/(\[.*)|(\..*)/g,exp4=/\./g,idx=0,rootStr="",exists=!0,obj=root=root||win,str_ns)if(str_ns=cstr(str_ns))if(str_ns=trim(str_ns),matches=str_ns.match(exp))for(rootStr=str_ns.replace(exp3,""),matches.unshift(rootStr);prop=matches[idx++];){if(prop=prop.replace(exp2,"$3").replace(exp4,""),!obj[prop]){exists=!1;break}obj=obj[prop]}else prop=str_ns,obj=obj[prop];else exists=!1;else exists=!1;return exists&&obj||!1},isArray=function(obj){return null==obj?!1:"string"==typeof obj?!1:null!=obj.length&&obj.constructor===Array?!0:!1},wrap=function(func,wrapper){return function(){var args;return args=[func],Array.prototype.push.apply(args,arguments),wrapper.apply(this,args)}},entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},entityMap.unescape={},_ref=entityMap.escape;for(k in _ref)v=_ref[k],entityMap.unescape[v]=k;return entityRegexes={escape:new RegExp("["+keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+keys(entityMap.unescape).join("|")+")","g")},jssafe_html=function(str){return null==str?"":(""+str).replace(entityRegexes.escape,function(match){return entityMap.escape[match]})},jsunsafe_html=function(str){return null==str?"":(""+str).replace(entityRegexes.unescape,function(match){return entityMap.unescape[match]})},ParamHash=function(sString,sPropDelim,sValueDelim,bNoOverwrite,bRecurse){var added,cnt,doAdd,idx,idx2,idx3,io,len,len2,me,nm,nv,obj,pairs,sTemp,sTemp2,sTemp3,ss;if(me=this,io="indexOf",ss="substring",doAdd=!1,!(me instanceof ParamHash))return new ParamHash(sString,sPropDelim,sValueDelim,bNoOverwrite,bRecurse);if(!arguments.length)return me;if(sString&&"object"==typeof sString)return mix(new ParamHash("",sPropDelim,sValueDelim,bNoOverwrite,bRecurse),sString);if(sString=cstr(sString),sPropDelim=cstr(sPropDelim)||"&",sValueDelim=cstr(sValueDelim)||"=",!sString)return me;if("?"!==sPropDelim&&"?"!==sValueDelim&&"?"===sString.charAt(0)&&(sString=sString[ss](1)),idx=sString[io]("?"),idx2=sString[io](sValueDelim),-1!==idx&&-1!==idx2&&idx>idx2)sTemp=_es(sString[ss](idx2+1)),sTemp2=sString.substr(0,idx2+1),sString=sTemp2+sTemp;else if(-1!==idx)return sString=sString[ss](idx+1),new ParamHash(sString,sPropDelim,sValueDelim,bNoOverwrite);for(sString.charAt(0)===sPropDelim&&(sString=sString[ss](1)),pairs=sString.split(sPropDelim),cnt=pairs.length,idx=0;cnt--;)if(sTemp=pairs[idx++],added=!1,doAdd=!1,sTemp){if(nv=sTemp.split(sValueDelim),len=nv.length,len>2){if(nm=_ue(nv[0]),nv.shift(),bRecurse)if(sTemp2=nm+sValueDelim,idx2=sString[io](sTemp2),len=sTemp2[LEN],sTemp3=sString[ss](idx2+len),sTemp2=sPropDelim+sPropDelim,len2=sTemp2[LEN],idx3=sTemp3[io](sTemp2),-1!==idx3){sTemp3=sString.substr(idx2+len,idx3+len2),obj=new ParamHash(sTemp3,sPropDelim,sValueDelim,bNoOverwrite,bRecurse),sTemp3="",len=0;for(sTemp3 in obj);len>0&&(idx+=len-1),sTemp=obj}else sTemp=_ue(nv.join(sValueDelim));else sTemp=_ue(nv.join(sValueDelim));doAdd=!0}else 2===len&&(nm=_ue(nv[0]),sTemp=_ue(nv[1]),doAdd=!0);doAdd&&(bNoOverwrite?nm in me||(me[nm]=sTemp,added=!0):(me[nm]=sTemp,added=!0),bRecurse&&added&&nm&&sTemp&&"object"!=typeof sTemp&&(sTemp[io](sPropDelim)>=0||sTemp[io](sValueDelim)>=0)&&(me[nm]=new ParamHash(sTemp,sPropDelim,sValueDelim,bNoOverwrite,bRecurse)))}},toString=function(sPropDelim,sValueDelim,escapeProp,dontEscapeValue){var buffer,item,itemType,me,prop;prop=void 0,buffer=[],me=this,itemType=void 0,item=void 0,sPropDelim=sPropDelim||"&",sValueDelim=sValueDelim||"=";for(prop in me)item=me[prop],itemType=typeof item,item&&"function"===itemType||(item&&"object"===itemType&&(item=toString.apply(item,[sPropDelim,sValueDelim,escapeProp,dontEscapeValue])),escapeProp&&(prop=_es(prop)),dontEscapeValue||(item=_es(item)),buffer.push(prop,sValueDelim,item,sPropDelim));return cstr(buffer)},proto=ParamHash.prototype,String.prototype.trim||(String.prototype.trim=trim),proto.toString=proto.valueOf=toString,lang={ParamHash:ParamHash,cstr:cstr,cnum:cnum,cbool:cbool,noop:noop,trim:trim,callable:callable,guid:guid,mix:mix,time:time,rand:rand,def:def,ns:ns,jssafe_html:jssafe_html,jsunsafe_html:jsunsafe_html,isArray:isArray,wrap:wrap,keys:keys},"undefined"!=typeof exports&&null!==exports?exports.lang=lang:lang}(window)}).call(this)},{}],17:[function(require,module){(function(){module.exports=function(window){var logError,logInfo,win;return win=window,logInfo=function(message){win.console&&console.log&&console.log(message)},logError=function(message){win.console&&console.error?console.error(message):win.console&&console.log&&console.log(message)},{info:logInfo,error:logError}}(window)}).call(this)},{}],18:[function(require,module,exports){function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if("base64"===encoding&&"string"===type)for(subject=stringtrim(subject);subject.length%4!==0;)subject+="=";var length;if("number"===type)length=coerce(subject);else if("string"===type)length=Buffer.byteLength(subject,encoding);else{if("object"!==type)throw new Error("First argument needs to be a number, array or string.");length=coerce(subject.length)}var buf;Buffer._useTypedArrays?buf=augment(new Uint8Array(length)):(buf=this,buf.length=length,buf._isBuffer=!0);var i;if(Buffer._useTypedArrays&&"function"==typeof Uint8Array&&subject instanceof Uint8Array)buf._set(subject);else if(isArrayish(subject))for(i=0;length>i;i++)buf[i]=Buffer.isBuffer(subject)?subject.readUInt8(i):subject[i];else if("string"===type)buf.write(subject,0,encoding);else if("number"===type&&!Buffer._useTypedArrays&&!noZero)for(i=0;length>i;i++)buf[i]=0;return buf}function _hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;assert(strLen%2===0,"Invalid hex string"),length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);assert(!isNaN(byte),"Invalid hex string"),buf[offset+i]=byte}return Buffer._charsWritten=2*i,i}function _utf8Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function _asciiWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function _binaryWrite(buf,string,offset,length){return _asciiWrite(buf,string,offset,length)}function _base64Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function _utf16leWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}function _base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function _utf8Slice(buf,start,end){var res="",tmp="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)buf[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]),tmp=""):tmp+="%"+buf[i].toString(16);return res+decodeUtf8Char(tmp)}function _asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function _binarySlice(buf,start,end){return _asciiSlice(buf,start,end)}function _hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function _utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function _readUInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(val=buf[offset],len>offset+1&&(val|=buf[offset+1]<<8)):(val=buf[offset]<<8,len>offset+1&&(val|=buf[offset+1])),val}}function _readUInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(len>offset+2&&(val=buf[offset+2]<<16),len>offset+1&&(val|=buf[offset+1]<<8),val|=buf[offset],len>offset+3&&(val+=buf[offset+3]<<24>>>0)):(len>offset+1&&(val=buf[offset+1]<<16),len>offset+2&&(val|=buf[offset+2]<<8),len>offset+3&&(val|=buf[offset+3]),val+=buf[offset]<<24>>>0),val}}function _readInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt16(buf,offset,littleEndian,!0),neg=32768&val;return neg?-1*(65535-val+1):val}}function _readInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt32(buf,offset,littleEndian,!0),neg=2147483648&val;return neg?-1*(4294967295-val+1):val}}function _readFloat(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+3<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,23,4)}function _readDouble(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+7<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,52,8)}function _writeUInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"trying to write beyond buffer length"),verifuint(value,65535));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function _writeUInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"trying to write beyond buffer length"),verifuint(value,4294967295));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function _writeInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768));var len=buf.length;offset>=len||(value>=0?_writeUInt16(buf,value,offset,littleEndian,noAssert):_writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert))}function _writeInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648));var len=buf.length;offset>=len||(value>=0?_writeUInt32(buf,value,offset,littleEndian,noAssert):_writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert))}function _writeFloat(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,23,4)}function _writeDouble(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+7<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,52,8)}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function augment(arr){return arr._isBuffer=!0,arr._get=arr.get,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr
}function clamp(index,len,defaultValue){return"number"!=typeof index?defaultValue:(index=~~index,index>=len?len:index>=0?index:(index+=len,index>=0?index:0))}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function isArray(subject){return(Array.isArray||function(subject){return"[object Array]"===Object.prototype.toString.call(subject)})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++){var b=str.charCodeAt(i);if(127>=b)byteArray.push(str.charCodeAt(i));else{var start=i;b>=55296&&57343>=b&&i++;for(var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}}return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str){for(var c,hi,lo,byteArray=[],i=0;i<str.length;i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value>=0,"specified a negative value for writing an unsigned value"),assert(max>=value,"value is larger than maximum value for type"),assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value"),assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){if("function"!=typeof Uint8Array||"function"!=typeof ArrayBuffer)return!1;try{var arr=new Uint8Array(0);return arr.foo=function(){return 42},42===arr.foo()&&"function"==typeof arr.subarray}catch(e){return!1}}(),Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(b){return!(null===b||void 0===b||!b._isBuffer)},Buffer.byteLength=function(str,encoding){var ret;switch(str+="",encoding||"utf8"){case"hex":ret=str.length/2;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"ascii":case"binary":case"raw":ret=str.length;break;case"base64":ret=base64ToBytes(str).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=2*str.length;break;default:throw new Error("Unknown encoding")}return ret},Buffer.concat=function(list,totalLength){if(assert(isArray(list),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===list.length)return new Buffer(0);if(1===list.length)return list[0];var i;if("number"!=typeof totalLength)for(totalLength=0,i=0;i<list.length;i++)totalLength+=list[i].length;var buf=new Buffer(totalLength),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=Number(offset)||0;var remaining=this.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=_hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=_utf8Write(this,string,offset,length);break;case"ascii":ret=_asciiWrite(this,string,offset,length);break;case"binary":ret=_binaryWrite(this,string,offset,length);break;case"base64":ret=_base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leWrite(this,string,offset,length);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toString=function(encoding,start,end){var self=this;if(encoding=String(encoding||"utf8").toLowerCase(),start=Number(start)||0,end=void 0!==end?Number(end):end=self.length,end===start)return"";var ret;switch(encoding){case"hex":ret=_hexSlice(self,start,end);break;case"utf8":case"utf-8":ret=_utf8Slice(self,start,end);break;case"ascii":ret=_asciiSlice(self,start,end);break;case"binary":ret=_binarySlice(self,start,end);break;case"base64":ret=_base64Slice(self,start,end);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leSlice(self,start,end);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||0===end||(end=this.length),target_start||(target_start=0),end!==start&&0!==target.length&&0!==source.length){assert(end>=start,"sourceEnd < sourceStart"),assert(target_start>=0&&target_start<target.length,"targetStart out of bounds"),assert(start>=0&&start<source.length,"sourceStart out of bounds"),assert(end>=0&&end<=source.length,"sourceEnd out of bounds"),end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start);for(var i=0;end-start>i;i++)target[i+target_start]=this[i+start]}},Buffer.prototype.slice=function(start,end){var len=this.length;if(start=clamp(start,len,0),end=clamp(end,len,len),Buffer._useTypedArrays)return augment(this.subarray(start,end));for(var sliceLen=end-start,newBuf=new Buffer(sliceLen,void 0,!0),i=0;sliceLen>i;i++)newBuf[i]=this[i+start];return newBuf},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),offset>=this.length?void 0:this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return _readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return _readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return _readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return _readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){if(noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),!(offset>=this.length)){var neg=128&this[offset];return neg?-1*(255-this[offset]+1):this[offset]}},Buffer.prototype.readInt16LE=function(offset,noAssert){return _readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return _readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return _readInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return _readInt32(this,offset,!1,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return _readFloat(this,offset,!0,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return _readFloat(this,offset,!1,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return _readDouble(this,offset,!0,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return _readDouble(this,offset,!1,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"trying to write beyond buffer length"),verifuint(value,255)),offset>=this.length||(this[offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),offset>=this.length||(value>=0?this.writeUInt8(value,offset,noAssert):this.writeUInt8(255+value+1,offset,noAssert))},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){_writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){_writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){_writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){_writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){_writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){_writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){_writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){_writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),assert("number"==typeof value&&!isNaN(value),"value is not a number"),assert(end>=start,"end < start"),end!==start&&0!==this.length){assert(start>=0&&start<this.length,"start out of bounds"),assert(end>=0&&end<=this.length,"end out of bounds");for(var i=start;end>i;i++)this[i]=value}},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype},{"base64-js":19,ieee754:20}],19:[function(require,module){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS?62:code===SLASH?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS=("0".charCodeAt(0),"+".charCodeAt(0)),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0);module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}],20:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||1/0===value?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],21:[function(require,module){function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){Buffer.isBuffer(buf)||(buf=new Buffer(buf));var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}var Buffer=require("buffer").Buffer,intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;module.exports={hash:hash}},{buffer:18}],22:[function(require,module,exports){function hmac(fn,key,data){Buffer.isBuffer(key)||(key=new Buffer(key)),Buffer.isBuffer(data)||(data=new Buffer(data)),key.length>blocksize?key=fn(key):key.length<blocksize&&(key=Buffer.concat([key,zeroBuffer],blocksize));for(var ipad=new Buffer(blocksize),opad=new Buffer(blocksize),i=0;blocksize>i;i++)ipad[i]=54^key[i],opad[i]=92^key[i];var hash=fn(Buffer.concat([ipad,data]));return fn(Buffer.concat([opad,hash]))}function hash(alg,key){alg=alg||"sha1";var fn=algorithms[alg],bufs=[],length=0;return fn||error("algorithm:",alg,"is not yet supported"),{update:function(data){return Buffer.isBuffer(data)||(data=new Buffer(data)),bufs.push(data),length+=data.length,this},digest:function(enc){var buf=Buffer.concat(bufs),r=key?hmac(fn,key,buf):fn(buf);return bufs=null,enc?r.toString(enc):r}}}function error(){var m=[].slice.call(arguments).join(" ");throw new Error([m,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function each(a,f){for(var i in a)f(a[i],i)}var Buffer=require("buffer").Buffer,sha=require("./sha"),sha256=require("./sha256"),rng=require("./rng"),md5=require("./md5"),algorithms={sha1:sha,sha256:sha256,md5:md5},blocksize=64,zeroBuffer=new Buffer(blocksize);zeroBuffer.fill(0),exports.createHash=function(alg){return hash(alg)},exports.createHmac=function(alg,key){return hash(alg,key)},exports.randomBytes=function(size,callback){if(!callback||!callback.call)return new Buffer(rng(size));try{callback.call(this,void 0,new Buffer(rng(size)))}catch(err){callback(err)}},each(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(name){exports[name]=function(){error("sorry,",name,"is not implemented yet")}})},{"./md5":23,"./rng":24,"./sha":25,"./sha256":26,buffer:18}],23:[function(require,module){function core_md5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=require("./helpers");module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":21}],24:[function(require,module){!function(){var mathRNG,whatwgRNG,_global=this;mathRNG=function(size){for(var r,r,bytes=new Array(size),i=0;size>i;i++)0==(3&i)&&(r=4294967296*Math.random()),bytes[i]=r>>>((3&i)<<3)&255;return bytes},_global.crypto&&crypto.getRandomValues&&(whatwgRNG=function(size){var bytes=new Uint8Array(size);return crypto.getRandomValues(bytes),bytes}),module.exports=whatwgRNG||mathRNG}()},{}],25:[function(require,module){function core_sha1(x,len){x[len>>5]|=128<<24-len%32,x[(len+64>>9<<4)+15]=len;for(var w=Array(80),a=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776,i=0;i<x.length;i+=16){for(var olda=a,oldb=b,oldc=c,oldd=d,olde=e,j=0;80>j;j++){w[j]=16>j?x[i+j]:rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=safe_add(safe_add(rol(a,5),sha1_ft(j,b,c,d)),safe_add(safe_add(e,w[j]),sha1_kt(j)));e=d,d=c,c=rol(b,30),b=a,a=t}a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd),e=safe_add(e,olde)}return Array(a,b,c,d,e)}function sha1_ft(t,b,c,d){return 20>t?b&c|~b&d:40>t?b^c^d:60>t?b&c|b&d|c&d:b^c^d}function sha1_kt(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=require("./helpers");module.exports=function(buf){return helpers.hash(buf,core_sha1,20,!0)}},{"./helpers":21}],26:[function(require,module){var helpers=require("./helpers"),safe_add=function(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw},S=function(X,n){return X>>>n|X<<32-n},R=function(X,n){return X>>>n},Ch=function(x,y,z){return x&y^~x&z},Maj=function(x,y,z){return x&y^x&z^y&z},Sigma0256=function(x){return S(x,2)^S(x,13)^S(x,22)},Sigma1256=function(x){return S(x,6)^S(x,11)^S(x,25)},Gamma0256=function(x){return S(x,7)^S(x,18)^R(x,3)},Gamma1256=function(x){return S(x,17)^S(x,19)^R(x,10)},core_sha256=function(m,l){var a,b,c,d,e,f,g,h,i,j,T1,T2,K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),HASH=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),W=new Array(64);m[l>>5]|=128<<24-l%32,m[(l+64>>9<<4)+15]=l;for(var i=0;i<m.length;i+=16){a=HASH[0],b=HASH[1],c=HASH[2],d=HASH[3],e=HASH[4],f=HASH[5],g=HASH[6],h=HASH[7];for(var j=0;64>j;j++)W[j]=16>j?m[j+i]:safe_add(safe_add(safe_add(Gamma1256(W[j-2]),W[j-7]),Gamma0256(W[j-15])),W[j-16]),T1=safe_add(safe_add(safe_add(safe_add(h,Sigma1256(e)),Ch(e,f,g)),K[j]),W[j]),T2=safe_add(Sigma0256(a),Maj(a,b,c)),h=g,g=f,f=e,e=safe_add(d,T1),d=c,c=b,b=a,a=safe_add(T1,T2);HASH[0]=safe_add(a,HASH[0]),HASH[1]=safe_add(b,HASH[1]),HASH[2]=safe_add(c,HASH[2]),HASH[3]=safe_add(d,HASH[3]),HASH[4]=safe_add(e,HASH[4]),HASH[5]=safe_add(f,HASH[5]),HASH[6]=safe_add(g,HASH[6]),HASH[7]=safe_add(h,HASH[7])}return HASH};module.exports=function(buf){return helpers.hash(buf,core_sha256,32,!0)}},{"./helpers":21}],27:[function(require,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}]},{},[1]);